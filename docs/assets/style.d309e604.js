var xo=Object.defineProperty;var Eo=(e,t,r)=>t in e?xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qt=(e,t,r)=>(Eo(e,typeof t!="symbol"?t+"":t,r),r);import{r as O,j as w,e as Oe,c as tt,f as _o,F as Ur,b as at,g as oa}from"./index.50043c3d.js";var sa={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],a=0;a<arguments.length;a++){var i=arguments[a];if(!!i){var o=typeof i;if(o==="string"||o==="number")n.push(i);else if(Array.isArray(i)){if(i.length){var s=r.apply(null,i);s&&n.push(s)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&n.push(c)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(sa);const mt=sa.exports;const Yn=O.exports.forwardRef(e=>{const{className:t,name:r,size:n=16,color:a,style:i,onClick:o}=e;return w("span",{className:mt("otaku-icon iconfont",`otaku-icon-${r}`,t),style:{fontSize:`${n}px`,color:a,...i},onClick:o})});Yn.displayName="Icon";var ca={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Oe,function(){var r=1e3,n=6e4,a=36e5,i="millisecond",o="second",s="minute",c="hour",u="day",l="week",h="month",f="quarter",v="year",x="date",p="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var b=["th","st","nd","rd"],m=$%100;return"["+$+(b[(m-20)%10]||b[m]||b[0])+"]"}},E=function($,b,m){var k=String($);return!k||k.length>=b?$:""+Array(b+1-k.length).join(m)+$},A={s:E,z:function($){var b=-$.utcOffset(),m=Math.abs(b),k=Math.floor(m/60),M=m%60;return(b<=0?"+":"-")+E(k,2,"0")+":"+E(M,2,"0")},m:function $(b,m){if(b.date()<m.date())return-$(m,b);var k=12*(m.year()-b.year())+(m.month()-b.month()),M=b.clone().add(k,h),N=m-M<0,P=b.clone().add(k+(N?-1:1),h);return+(-(k+(m-M)/(N?M-P:P-M))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:h,y:v,w:l,d:u,D:x,h:c,m:s,s:o,ms:i,Q:f}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},I="en",d={};d[I]=C;var D=function($){return $ instanceof V},R=function $(b,m,k){var M;if(!b)return I;if(typeof b=="string"){var N=b.toLowerCase();d[N]&&(M=N),m&&(d[N]=m,M=N);var P=b.split("-");if(!M&&P.length>1)return $(P[0])}else{var j=b.name;d[j]=b,M=j}return!k&&M&&(I=M),M||!k&&I},_=function($,b){if(D($))return $.clone();var m=typeof b=="object"?b:{};return m.date=$,m.args=arguments,new V(m)},T=A;T.l=R,T.i=D,T.w=function($,b){return _($,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var V=function(){function $(m){this.$L=R(m.locale,null,!0),this.parse(m)}var b=$.prototype;return b.parse=function(m){this.$d=function(k){var M=k.date,N=k.utc;if(M===null)return new Date(NaN);if(T.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var P=M.match(S);if(P){var j=P[2]-1||0,X=(P[7]||"0").substring(0,3);return N?new Date(Date.UTC(P[1],j,P[3]||1,P[4]||0,P[5]||0,P[6]||0,X)):new Date(P[1],j,P[3]||1,P[4]||0,P[5]||0,P[6]||0,X)}}return new Date(M)}(m),this.$x=m.x||{},this.init()},b.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},b.$utils=function(){return T},b.isValid=function(){return this.$d.toString()!==p},b.isSame=function(m,k){var M=_(m);return this.startOf(k)<=M&&M<=this.endOf(k)},b.isAfter=function(m,k){return _(m)<this.startOf(k)},b.isBefore=function(m,k){return this.endOf(k)<_(m)},b.$g=function(m,k,M){return T.u(m)?this[k]:this.set(M,m)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(m,k){var M=this,N=!!T.u(k)||k,P=T.p(m),j=function(pt,G){var J=T.w(M.$u?Date.UTC(M.$y,G,pt):new Date(M.$y,G,pt),M);return N?J:J.endOf(u)},X=function(pt,G){return T.w(M.toDate()[pt].apply(M.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(G)),M)},q=this.$W,U=this.$M,nt=this.$D,it="set"+(this.$u?"UTC":"");switch(P){case v:return N?j(1,0):j(31,11);case h:return N?j(1,U):j(0,U+1);case l:var ft=this.$locale().weekStart||0,zt=(q<ft?q+7:q)-ft;return j(N?nt-zt:nt+(6-zt),U);case u:case x:return X(it+"Hours",0);case c:return X(it+"Minutes",1);case s:return X(it+"Seconds",2);case o:return X(it+"Milliseconds",3);default:return this.clone()}},b.endOf=function(m){return this.startOf(m,!1)},b.$set=function(m,k){var M,N=T.p(m),P="set"+(this.$u?"UTC":""),j=(M={},M[u]=P+"Date",M[x]=P+"Date",M[h]=P+"Month",M[v]=P+"FullYear",M[c]=P+"Hours",M[s]=P+"Minutes",M[o]=P+"Seconds",M[i]=P+"Milliseconds",M)[N],X=N===u?this.$D+(k-this.$W):k;if(N===h||N===v){var q=this.clone().set(x,1);q.$d[j](X),q.init(),this.$d=q.set(x,Math.min(this.$D,q.daysInMonth())).$d}else j&&this.$d[j](X);return this.init(),this},b.set=function(m,k){return this.clone().$set(m,k)},b.get=function(m){return this[T.p(m)]()},b.add=function(m,k){var M,N=this;m=Number(m);var P=T.p(k),j=function(U){var nt=_(N);return T.w(nt.date(nt.date()+Math.round(U*m)),N)};if(P===h)return this.set(h,this.$M+m);if(P===v)return this.set(v,this.$y+m);if(P===u)return j(1);if(P===l)return j(7);var X=(M={},M[s]=n,M[c]=a,M[o]=r,M)[P]||1,q=this.$d.getTime()+m*X;return T.w(q,this)},b.subtract=function(m,k){return this.add(-1*m,k)},b.format=function(m){var k=this,M=this.$locale();if(!this.isValid())return M.invalidDate||p;var N=m||"YYYY-MM-DDTHH:mm:ssZ",P=T.z(this),j=this.$H,X=this.$m,q=this.$M,U=M.weekdays,nt=M.months,it=function(G,J,re,Ot){return G&&(G[J]||G(k,N))||re[J].slice(0,Ot)},ft=function(G){return T.s(j%12||12,G,"0")},zt=M.meridiem||function(G,J,re){var Ot=G<12?"AM":"PM";return re?Ot.toLowerCase():Ot},pt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:q+1,MM:T.s(q+1,2,"0"),MMM:it(M.monthsShort,q,nt,3),MMMM:it(nt,q),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:it(M.weekdaysMin,this.$W,U,2),ddd:it(M.weekdaysShort,this.$W,U,3),dddd:U[this.$W],H:String(j),HH:T.s(j,2,"0"),h:ft(1),hh:ft(2),a:zt(j,X,!0),A:zt(j,X,!1),m:String(X),mm:T.s(X,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:P};return N.replace(g,function(G,J){return J||pt[G]||P.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(m,k,M){var N,P=T.p(k),j=_(m),X=(j.utcOffset()-this.utcOffset())*n,q=this-j,U=T.m(this,j);return U=(N={},N[v]=U/12,N[h]=U,N[f]=U/3,N[l]=(q-X)/6048e5,N[u]=(q-X)/864e5,N[c]=q/a,N[s]=q/n,N[o]=q/r,N)[P]||q,M?U:T.a(U)},b.daysInMonth=function(){return this.endOf(h).$D},b.$locale=function(){return d[this.$L]},b.locale=function(m,k){if(!m)return this.$L;var M=this.clone(),N=R(m,k,!0);return N&&(M.$L=N),M},b.clone=function(){return T.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},$}(),F=V.prototype;return _.prototype=F,[["$ms",i],["$s",o],["$m",s],["$H",c],["$W",u],["$M",h],["$y",v],["$D",x]].forEach(function($){F[$[1]]=function(b){return this.$g(b,$[0],$[1])}}),_.extend=function($,b){return $.$i||($(b,V,_),$.$i=!0),_},_.locale=R,_.isDayjs=D,_.unix=function($){return _(1e3*$)},_.en=d[I],_.Ls=d,_.p={},_})})(ca);const L=ca.exports;var ua={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Oe,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(ua);const So=ua.exports;L.extend(So);function Co(e,t="\u65E5",r="YYYY-MM-DD"){const n=L(e),a=[31,n.isLeapYear()?29:28,31,30,31,30,31,31,30,31,30,31],i=[],o=[],s=[],c=n.month(),u=`${n.year()}-${c+1}-1`,l=L(u).day()===0?7:L(u).day(),h=L(u).subtract(l,"day"),f=t==="\u4E00"?h.date()+1:h.date(),v=a[h.month()],x=42-a[c]-(v-f)-1;for(let p=f;p<=v;p++)i.push(`${L(u).year()}-${h.month()+1}-${p}`);for(let p=1;p<=a[c];p++)o.push(`${n.year()}-${c+1}-${p}`);for(let p=1;p<=x;p++){const S=L().add(1,"month");s.push(`${S.year()}-${S.month()+1}-${p}`)}return{prev:i.map(p=>L(p).format(r)),current:o.map(p=>L(p).format(r)),next:s.map(p=>L(p).format(r))}}function Do(e){const{date:t,onChange:r}=e,[n,a]=O.exports.useState(L(t));O.exports.useEffect(()=>{a(L(t))},[t]);const i=(s,c)=>{const u=c==="left"?n.subtract(1,s):n.add(1,s);a(u)},o=s=>{const c=n.month(s);a(c),r==null||r(c)};return tt("div",{className:"otaku-month-picker-container",children:[tt("ul",{className:"otaku-month-picker-header",children:[w("li",{children:w("span",{className:"iconfont otaku-icon-doubleleft",onClick:()=>i("year","left")})}),w("li",{children:w("span",{children:`${n.year()}\u5E74`})}),w("li",{children:w("span",{className:"iconfont otaku-icon-doubleright",onClick:()=>i("year","right")})})]}),w("ul",{className:"otaku-month",children:Array(12).fill(void 0).map((s,c)=>{const u=c+1;return tt("li",{className:mt("otaku-month-item",{active:n.month()+1===u,"otaku-datepicker-currentMonth":u===L().month()+1}),onClick:()=>o(c),children:[u,"\u6708"]},c)})})]})}const Mo=e=>{const t=[],r=Math.floor(e/10)*10;for(let n=r-1;n<=r+10;n++)t.push(n);return t};function Oo(e){const{date:t,onChange:r}=e,[n,a]=O.exports.useState(L(t)),i=O.exports.useMemo(()=>Mo(n.year()),[n]);O.exports.useEffect(()=>{a(L(t))},[t]);const o=(c,u)=>{const l=u==="left"?n.subtract(10,c):n.add(10,c);a(l)},s=c=>{const u=+c.target.dataset.year;if(u){const l=L(n.year(u));a(l),r==null||r(l)}};return tt("section",{className:"otaku-year-picker-container",children:[tt("ul",{className:"otaku-year-picker-header",children:[w("li",{children:w("span",{className:"iconfont otaku-icon-doubleleft",onClick:()=>o("year","left")})}),w("li",{children:w("span",{children:`${i[1]} - ${i[10]}`})}),w("li",{children:w("span",{className:"iconfont otaku-icon-doubleright",onClick:()=>o("year","right")})})]}),w("ul",{className:"otaku-year",onClick:s,children:i.map(c=>w("li",{"data-year":c,className:mt({gray:c===i[0]||i[i.length-1]===c,active:c===L().year(),"otaku-datepicker-currentYear":c===L().year()}),children:c},c))})]})}let pi=1;class $o{constructor(t){Qt(this,"id");Qt(this,"container");Qt(this,"rootStyle");Qt(this,"zIndex");const{rootStyle:r={},zIndex:n=2e3}=t||{};this.id=pi,this.container=null,this.rootStyle=r,this.zIndex=n,this.init()}init(){const t=document.getElementById("otaku-notice-container");t?this.container=t:(this.container=document.createElement("section"),this.container.id="otaku-notice-container",this.container.style.cssText=vi({...this==null?void 0:this.rootStyle,"z-index":this.zIndex}),document.body.appendChild(this.container))}create(t){var o,s,c;const{content:r,style:n={},className:a=""}=t,i=document.createElement("div");i.id=`notice-${pi++}`,i.className=a,i.style.cssText=vi(n),(o=this.container)==null||o.appendChild(i),console.log(r),(s=t.beforeCreate)==null||s.call(t),_o.createRoot(i).render(r),(c=t.created)==null||c.call(t)}destory(){var r;const t=document.querySelector(`#otaku-notice-container #notice-${this.id}`);(r=this.container)==null||r.removeChild(t)}}const vi=e=>Object.entries(e).reduce((r,n)=>{const[a,i]=n;return r+=`${a}: ${i};`,r},""),wr=(e,t)=>e===null?null:e.dataset[t]?e:wr(e.parentElement,t),To=(e,t="children")=>e.reduce((r,n)=>{const a=Array.isArray(n[t]);return r.push(n),a&&r.push(...To(n[t],t)),r},[]),ko=e=>{const t=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"];return e==="\u4E00"?[...t,"\u65E5"]:["\u65E5",...t]},Od=(e="--otaku-primary-color",t=document.documentElement)=>window.getComputedStyle(t).getPropertyValue(e);var la={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Oe,function(){return function(r,n,a){n.prototype.isBetween=function(i,o,s,c){var u=a(i),l=a(o),h=(c=c||"()")[0]==="(",f=c[1]===")";return(h?this.isAfter(u,s):!this.isBefore(u,s))&&(f?this.isBefore(l,s):!this.isAfter(l,s))||(h?this.isBefore(u,s):!this.isAfter(u,s))&&(f?this.isAfter(l,s):!this.isBefore(l,s))}}})})(la);const jn=la.exports;L.extend(jn);function pn(e){const{className:t,value:r=[],firstWeek:n="\u65E5",panel:a="start",disabled:i,onChange:o}=e,[s,c]=r,[u,l]=O.exports.useState([L(s),L(c)]),[h,f]=O.exports.useState(u),[v,x]=O.exports.useState(L(a==="start"?s:c)),[p,S]=O.exports.useState("calendar"),g=Co(v,n),C=ko(n);O.exports.useEffect(()=>{const[D,R]=r;l([L(D),L(R)]),f([L(D),L(R)]),o==null||o([L(D),L(R)])},[r]),O.exports.useEffect(()=>{console.log()},[h]);const E=D=>{const R=wr(D.target,"date");if(R){const{date:_,type:T,disabled:V}=R.dataset;if(V!=="true"&&_&&T==="current")if(h.length<2){const F=m=>[...m,L(_)].sort((k,M)=>k.toDate().getTime()-M.toDate().getTime()),b=[...new Set(F([...h,L(_)]).map(m=>m.format("YYYY-MM-DD")))].map(m=>L(m));f(b),l(b),o==null||o(b)}else f([L(_)]),l([L(_)]),o==null||o([L(_)])}},A=(D,R)=>{const _=R==="left"?v.subtract(1,D):v.add(1,D);x(_)},I=D=>{S(D)},d=D=>{console.log(h.map(_=>_.format("YYYY-MM-DD")).join(" --- "));const R=wr(D.target,"date");if(R){const{date:_,type:T,disabled:V}=R.dataset;V!=="true"&&_&&T==="current"&&(u[1]=L(_),l([...u]))}};return tt("section",{className:mt("otaku-calendar-container",t),children:[h.map(D=>D.format("YYYY-MM-DD")).join(" --- "),tt("div",{style:{display:p==="calendar"?"block":"none"},children:[tt("ul",{className:"otaku-date-picker-header",children:[tt("li",{children:[w("span",{className:"iconfont otaku-icon-doubleleft",onClick:()=>A("year","left")}),w("span",{className:"iconfont otaku-icon-left",onClick:()=>A("month","left")})]}),tt("li",{children:[tt("span",{onClick:()=>I("year"),children:[v.year(),"\u5E74"]}),tt("span",{onClick:()=>I("month"),children:[v.month()+1,"\u6708"]})]}),tt("li",{children:[w("span",{className:"iconfont otaku-icon-right",onClick:()=>A("month","right")}),w("span",{className:"iconfont otaku-icon-doubleright",onClick:()=>A("year","right")})]})]}),w("ul",{className:"otaku-calendar-week",children:C.map((D,R)=>w("li",{children:D},R))}),w("ul",{className:"otaku-calendar-month",onClick:E,onMouseOver:d,children:Object.values(g).map((D,R)=>R===1?D.map(_=>{const T=L().format("YYYY-MM-DD"),V=i==null?void 0:i(L(_)),[F,$]=u,b=L(_).isBetween(F,$);return w("li",{"data-date":_,"data-disabled":V,"data-type":"current",className:mt(["otaku-calender-date","otaku-calendar-current"],{"otaku-calendar-today":T===_,"otaku-calendar-disabled":V,"otaku-calendar-range-start":F.format("YYYY-MM-DD")===_,"otaku-calendar-range-end":($==null?void 0:$.format("YYYY-MM-DD"))===_}),children:w("span",{className:mt({"otaku-calendar-between":$?b:!1}),children:L(_).date()})},_)}):D.map(_=>w("li",{"data-date":_,className:`otaku-calender-date otaku-calendar-${R===0?"prev":"next"}`,children:w("span",{children:L(_).date()})},_)))})]}),w("div",{style:{display:p==="year"?"block":"none"},children:w(Oo,{date:v,onChange:()=>I("month")})}),w("div",{style:{display:p==="month"?"block":"none"},children:w(Do,{date:v,onChange:()=>I("calendar")})})]})}L.extend(jn);function $d(e){const{date:t=[L(),L()],onChange:r}=e,[n,a]=t,[i,o]=O.exports.useState([L(n),L(a)]);return w(Ur,{children:w(pn,{value:i,onChange:c=>{o(c)}})})}function Ao(e){const{show:t,force:r=!1,flex:n,className:a,children:i}=e,[o,s]=O.exports.useState(t);return O.exports.useEffect(()=>{s(t)},[t]),r?w(Ur,{children:o?i:null}):w("section",{className:a,style:{display:o?n?"flex":"block":"none"},children:i})}function No(e){var M;const{value:t,placeholder:r,readonly:n,disabled:a,cols:i,rows:o,className:s,style:c,beforeIcon:u,beforeNode:l,afterIcon:h,afterNode:f,clear:v,resize:x=!0,showPassword:p=!1,type:S="text",bgcolor:g,border:C=!0,size:E="middle",onBlur:A,onFocus:I,onChange:d,onInput:D,onEnter:R,onClear:_}=e,[T,V]=O.exports.useState(t),[F,$]=O.exports.useState(S);let[b,m]=O.exports.useState(p);O.exports.useEffect(()=>{V(t)},[t]);const k=N=>{V(N.target.value),d==null||d(N.target.value),D==null||D(N.target.value)};return w(Ur,{children:S!=="textarea"?tt("div",{className:mt("otaku-input-box"),style:c,children:[l?w("div",{className:"otaku-input-before",children:l}):"",tt("div",{className:mt("otaku-input-container",`otaku-input-size-${E}`,s,{"otaku-input-after-border":f,"otaku-input-disabled":a}),style:{borderWidth:C?"1px":"0px",background:a?"#f7f7f7":g},children:[u,w("input",{style:{background:g},className:"otaku-input",placeholder:r,type:F,value:T,disabled:a,readOnly:n,onChange:k,onInput:k,onBlur:A,onFocus:I,onKeyDown:N=>{N.code==="Enter"&&(R==null||R(N))}}),S==="password"?w("span",{className:mt("otaku-input-icon-right iconfont show-password",b?"otaku-icon-eye-line":b===!1?"otaku-icon-eye-off-line":""),onClick:()=>{b=!b,m(b),$(b?"text":"password")}}):"",w(Ao,{show:v&&((M=T||"")==null?void 0:M.length)!==0,children:w(Yn,{name:"close-circle-line",size:14,className:"otaku-input-icon-right",onClick:()=>{V(""),_==null||_()}})}),h]}),f?w("div",{className:"otaku-input-after",children:f}):""]}):w("div",{className:mt("otaku-textarea-container",s),style:{borderWidth:C?"1px":"0px",background:g,...c},children:w("textarea",{className:mt("otaku-input-textarea",{"otaku-input-disabled":a}),style:{background:g,resize:x?"initial":"none"},cols:i,rows:o,placeholder:r,value:T,disabled:a,readOnly:n,onChange:k,onInput:k,onBlur:A,onFocus:I})})})}function Io(e){const{gap:t=10,direction:r="row",center:n,className:a,children:i}=e,o=Array.isArray(i)?i:[i];return w("ul",{className:mt("otaku-space",a),style:{gap:typeof t=="number"?`${t}px`:t.map(s=>`${s}px`).join(" "),alignItems:n?"center":"flex-start",flexDirection:r},children:o.map((s,c)=>w("li",{className:"otaku-space-item",children:s},c))})}const Ro=at.createContext(null);function Td(e){const{value:t,name:r="value",children:n,onChange:a}=e;return O.exports.useEffect(()=>{console.log(t)},[t]),w(Ro.Provider,{value:{name:r},children:w(Io,{children:at.Children.map(n,i=>{if(!!i)return at.cloneElement(i,{name:"radio",checked:t===i.props.value,onChange:a})})})})}function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$e.apply(this,arguments)}function Po(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xr(e,t)}function vn(e){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vn(e)}function xr(e,t){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xr(e,t)}function Lo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vr(e,t,r){return Lo()?Vr=Reflect.construct.bind():Vr=function(a,i,o){var s=[null];s.push.apply(s,i);var c=Function.bind.apply(a,s),u=new c;return o&&xr(u,o.prototype),u},Vr.apply(null,arguments)}function Yo(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function gn(e){var t=typeof Map=="function"?new Map:void 0;return gn=function(n){if(n===null||!Yo(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Vr(n,arguments,vn(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),xr(a,n)},gn(e)}var jo=/%[sdj%]/g,Ho=function(){};typeof process<"u"&&process.env;function mn(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function _t(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=0,i=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var o=e.replace(jo,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return s}});return o}return e}function Fo(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function ut(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Fo(t)&&typeof e=="string"&&!e)}function zo(e,t,r){var n=[],a=0,i=e.length;function o(s){n.push.apply(n,s||[]),a++,a===i&&r(n)}e.forEach(function(s){t(s,o)})}function gi(e,t,r){var n=0,a=e.length;function i(o){if(o&&o.length){r(o);return}var s=n;n=n+1,s<a?t(e[s],i):r([])}i([])}function Bo(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var mi=function(e){Po(t,e);function t(r,n){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=r,a.fields=n,a}return t}(gn(Error));function Vo(e,t,r,n,a){if(t.first){var i=new Promise(function(f,v){var x=function(g){return n(g),g.length?v(new mi(g,mn(g))):f(a)},p=Bo(e);gi(p,r,x)});return i.catch(function(f){return f}),i}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),c=s.length,u=0,l=[],h=new Promise(function(f,v){var x=function(S){if(l.push.apply(l,S),u++,u===c)return n(l),l.length?v(new mi(l,mn(l))):f(a)};s.length||(n(l),f(a)),s.forEach(function(p){var S=e[p];o.indexOf(p)!==-1?gi(S,r,x):zo(S,r,x)})});return h.catch(function(f){return f}),h}function qo(e){return!!(e&&e.message!==void 0)}function Wo(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function yi(e,t){return function(r){var n;return e.fullFields?n=Wo(t,e.fullFields):n=t[r.field||e.fullField],qo(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function bi(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];typeof n=="object"&&typeof e[r]=="object"?e[r]=$e({},e[r],n):e[r]=n}}return e}var ha=function(t,r,n,a,i,o){t.required&&(!n.hasOwnProperty(t.field)||ut(r,o||t.type))&&a.push(_t(i.messages.required,t.fullField))},Xo=function(t,r,n,a,i){(/^\s+$/.test(r)||r==="")&&a.push(_t(i.messages.whitespace,t.fullField))},Yr,Uo=function(){if(Yr)return Yr;var e="[a-fA-F\\d:]",t=function(A){return A&&A.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+r+"$)|(?:^"+a+"$)"),o=new RegExp("^"+r+"$"),s=new RegExp("^"+a+"$"),c=function(A){return A&&A.exact?i:new RegExp("(?:"+t(A)+r+t(A)+")|(?:"+t(A)+a+t(A)+")","g")};c.v4=function(E){return E&&E.exact?o:new RegExp(""+t(E)+r+t(E),"g")},c.v6=function(E){return E&&E.exact?s:new RegExp(""+t(E)+a+t(E),"g")};var u="(?:(?:[a-z]+:)?//)",l="(?:\\S+(?::\\S*)?@)?",h=c.v4().source,f=c.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",x="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",S="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',C="(?:"+u+"|www\\.)"+l+"(?:localhost|"+h+"|"+f+"|"+v+x+p+")"+S+g;return Yr=new RegExp("(?:^"+C+"$)","i"),Yr},wi={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},gr={integer:function(t){return gr.number(t)&&parseInt(t,10)===t},float:function(t){return gr.number(t)&&!gr.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!gr.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(wi.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Uo())},hex:function(t){return typeof t=="string"&&!!t.match(wi.hex)}},Go=function(t,r,n,a,i){if(t.required&&r===void 0){ha(t,r,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?gr[s](r)||a.push(_t(i.messages.types[s],t.fullField,t.type)):s&&typeof r!==t.type&&a.push(_t(i.messages.types[s],t.fullField,t.type))},Jo=function(t,r,n,a,i){var o=typeof t.len=="number",s=typeof t.min=="number",c=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=r,h=null,f=typeof r=="number",v=typeof r=="string",x=Array.isArray(r);if(f?h="number":v?h="string":x&&(h="array"),!h)return!1;x&&(l=r.length),v&&(l=r.replace(u,"_").length),o?l!==t.len&&a.push(_t(i.messages[h].len,t.fullField,t.len)):s&&!c&&l<t.min?a.push(_t(i.messages[h].min,t.fullField,t.min)):c&&!s&&l>t.max?a.push(_t(i.messages[h].max,t.fullField,t.max)):s&&c&&(l<t.min||l>t.max)&&a.push(_t(i.messages[h].range,t.fullField,t.min,t.max))},Be="enum",Ko=function(t,r,n,a,i){t[Be]=Array.isArray(t[Be])?t[Be]:[],t[Be].indexOf(r)===-1&&a.push(_t(i.messages[Be],t.fullField,t[Be].join(", ")))},Zo=function(t,r,n,a,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||a.push(_t(i.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(r)||a.push(_t(i.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},B={required:ha,whitespace:Xo,type:Go,range:Jo,enum:Ko,pattern:Zo},Qo=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r,"string")&&!t.required)return n();B.required(t,r,a,o,i,"string"),ut(r,"string")||(B.type(t,r,a,o,i),B.range(t,r,a,o,i),B.pattern(t,r,a,o,i),t.whitespace===!0&&B.whitespace(t,r,a,o,i))}n(o)},ts=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i),r!==void 0&&B.type(t,r,a,o,i)}n(o)},es=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(r===""&&(r=void 0),ut(r)&&!t.required)return n();B.required(t,r,a,o,i),r!==void 0&&(B.type(t,r,a,o,i),B.range(t,r,a,o,i))}n(o)},rs=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i),r!==void 0&&B.type(t,r,a,o,i)}n(o)},ns=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i),ut(r)||B.type(t,r,a,o,i)}n(o)},is=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i),r!==void 0&&(B.type(t,r,a,o,i),B.range(t,r,a,o,i))}n(o)},as=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i),r!==void 0&&(B.type(t,r,a,o,i),B.range(t,r,a,o,i))}n(o)},os=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(r==null&&!t.required)return n();B.required(t,r,a,o,i,"array"),r!=null&&(B.type(t,r,a,o,i),B.range(t,r,a,o,i))}n(o)},ss=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i),r!==void 0&&B.type(t,r,a,o,i)}n(o)},cs="enum",us=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i),r!==void 0&&B[cs](t,r,a,o,i)}n(o)},ls=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r,"string")&&!t.required)return n();B.required(t,r,a,o,i),ut(r,"string")||B.pattern(t,r,a,o,i)}n(o)},hs=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r,"date")&&!t.required)return n();if(B.required(t,r,a,o,i),!ut(r,"date")){var c;r instanceof Date?c=r:c=new Date(r),B.type(t,c,a,o,i),c&&B.range(t,c.getTime(),a,o,i)}}n(o)},fs=function(t,r,n,a,i){var o=[],s=Array.isArray(r)?"array":typeof r;B.required(t,r,a,o,i,s),n(o)},on=function(t,r,n,a,i){var o=t.type,s=[],c=t.required||!t.required&&a.hasOwnProperty(t.field);if(c){if(ut(r,o)&&!t.required)return n();B.required(t,r,a,s,i,o),ut(r,o)||B.type(t,r,a,s,i)}n(s)},ds=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ut(r)&&!t.required)return n();B.required(t,r,a,o,i)}n(o)},mr={string:Qo,method:ts,number:es,boolean:rs,regexp:ns,integer:is,float:as,array:os,object:ss,enum:us,pattern:ls,date:hs,url:on,hex:on,email:on,required:fs,any:ds};function yn(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var bn=yn(),Mr=function(){function e(r){this.rules=null,this._messages=bn,this.define(r)}var t=e.prototype;return t.define=function(n){var a=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];a.rules[i]=Array.isArray(o)?o:[o]})},t.messages=function(n){return n&&(this._messages=bi(yn(),n)),this._messages},t.validate=function(n,a,i){var o=this;a===void 0&&(a={}),i===void 0&&(i=function(){});var s=n,c=a,u=i;if(typeof c=="function"&&(u=c,c={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function l(p){var S=[],g={};function C(A){if(Array.isArray(A)){var I;S=(I=S).concat.apply(I,A)}else S.push(A)}for(var E=0;E<p.length;E++)C(p[E]);S.length?(g=mn(S),u(S,g)):u(null,s)}if(c.messages){var h=this.messages();h===bn&&(h=yn()),bi(h,c.messages),c.messages=h}else c.messages=this.messages();var f={},v=c.keys||Object.keys(this.rules);v.forEach(function(p){var S=o.rules[p],g=s[p];S.forEach(function(C){var E=C;typeof E.transform=="function"&&(s===n&&(s=$e({},s)),g=s[p]=E.transform(g)),typeof E=="function"?E={validator:E}:E=$e({},E),E.validator=o.getValidationMethod(E),E.validator&&(E.field=p,E.fullField=E.fullField||p,E.type=o.getType(E),f[p]=f[p]||[],f[p].push({rule:E,value:g,source:s,field:p}))})});var x={};return Vo(f,c,function(p,S){var g=p.rule,C=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");C=C&&(g.required||!g.required&&p.value),g.field=p.field;function E(d,D){return $e({},D,{fullField:g.fullField+"."+d,fullFields:g.fullFields?[].concat(g.fullFields,[d]):[d]})}function A(d){d===void 0&&(d=[]);var D=Array.isArray(d)?d:[d];!c.suppressWarning&&D.length&&e.warning("async-validator:",D),D.length&&g.message!==void 0&&(D=[].concat(g.message));var R=D.map(yi(g,s));if(c.first&&R.length)return x[g.field]=1,S(R);if(!C)S(R);else{if(g.required&&!p.value)return g.message!==void 0?R=[].concat(g.message).map(yi(g,s)):c.error&&(R=[c.error(g,_t(c.messages.required,g.field))]),S(R);var _={};g.defaultField&&Object.keys(p.value).map(function(F){_[F]=g.defaultField}),_=$e({},_,p.rule.fields);var T={};Object.keys(_).forEach(function(F){var $=_[F],b=Array.isArray($)?$:[$];T[F]=b.map(E.bind(null,F))});var V=new e(T);V.messages(c.messages),p.rule.options&&(p.rule.options.messages=c.messages,p.rule.options.error=c.error),V.validate(p.value,p.rule.options||c,function(F){var $=[];R&&R.length&&$.push.apply($,R),F&&F.length&&$.push.apply($,F),S($.length?$:null)})}}var I;if(g.asyncValidator)I=g.asyncValidator(g,p.value,A,p.source,c);else if(g.validator){try{I=g.validator(g,p.value,A,p.source,c)}catch(d){console.error==null||console.error(d),c.suppressValidatorError||setTimeout(function(){throw d},0),A(d.message)}I===!0?A():I===!1?A(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):I instanceof Array?A(I):I instanceof Error&&A(I.message)}I&&I.then&&I.then(function(){return A()},function(d){return A(d)})},function(p){l(p)},s)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!mr.hasOwnProperty(n.type))throw new Error(_t("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var a=Object.keys(n),i=a.indexOf("message");return i!==-1&&a.splice(i,1),a.length===1&&a[0]==="required"?mr.required:mr[this.getType(n)]||void 0},e}();Mr.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");mr[t]=r};Mr.warning=Ho;Mr.messages=bn;Mr.validators=mr;class ps{constructor(t={}){Qt(this,"options");Qt(this,"status");Qt(this,"validateErrors");Qt(this,"listeners");this.options=t,this.status="pending",this.validateErrors=[],this.listeners=new Map}setOptions(t){this.options=t}getOptions(){return this.options}get validateStatus(){return this.status}validate(){const{model:t={},rules:r={}}=this.options,n=new Mr(r);return new Promise((a,i)=>{n.validate(t,{firstFields:!0},(o,s)=>{console.log(this),o?(this.validateErrors=o,this.status="error",this.emit("validate"),i(o)):(this.status="success",this.emit("validate"),a(s))})})}on(t,r){var n;this.listeners.has(t)?(n=this.listeners.get(t))==null||n.push(r):this.listeners.set(t,[r])}emit(t){const r=this.listeners.get(t);if(r)for(const n of r)n(this)}resetValidate(){console.log("reset")}}const vs=at.createContext(null),xi=new ps,gs=at.forwardRef((e,t)=>{console.log("ref",t);const{model:r={},rules:n={},children:a,labelAlign:i="right",requiredAlign:o="left",disabled:s=!1,readonly:c=!1,labelWidth:u="80px",getFormInstance:l}=e,h={labelAlign:i,requiredAlign:o,disabled:s,labelWidth:u,model:r,rules:n};return xi.setOptions({labelAlign:i,requiredAlign:o,disabled:s,readonly:c,labelWidth:u,model:r,rules:n}),l==null||l(xi),w(vs.Provider,{value:h,children:w("form",{children:w("ul",{className:"otaku-form",children:a})})})});gs.displayName="Form";var ms=typeof Oe=="object"&&Oe&&Oe.Object===Object&&Oe,ys=ms,bs=ys,ws=typeof self=="object"&&self&&self.Object===Object&&self,xs=bs||ws||Function("return this")(),Hn=xs,Es=Hn,_s=Es.Symbol,Fn=_s,Ei=Fn,fa=Object.prototype,Ss=fa.hasOwnProperty,Cs=fa.toString,lr=Ei?Ei.toStringTag:void 0;function Ds(e){var t=Ss.call(e,lr),r=e[lr];try{e[lr]=void 0;var n=!0}catch{}var a=Cs.call(e);return n&&(t?e[lr]=r:delete e[lr]),a}var Ms=Ds,Os=Object.prototype,$s=Os.toString;function Ts(e){return $s.call(e)}var ks=Ts,_i=Fn,As=Ms,Ns=ks,Is="[object Null]",Rs="[object Undefined]",Si=_i?_i.toStringTag:void 0;function Ps(e){return e==null?e===void 0?Rs:Is:Si&&Si in Object(e)?As(e):Ns(e)}var da=Ps;function Ls(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var pa=Ls,Ys=da,js=pa,Hs="[object AsyncFunction]",Fs="[object Function]",zs="[object GeneratorFunction]",Bs="[object Proxy]";function Vs(e){if(!js(e))return!1;var t=Ys(e);return t==Fs||t==zs||t==Hs||t==Bs}var qs=Vs,Ws=Hn,Xs=Ws["__core-js_shared__"],Us=Xs,sn=Us,Ci=function(){var e=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Gs(e){return!!Ci&&Ci in e}var Js=Gs,Ks=Function.prototype,Zs=Ks.toString;function Qs(e){if(e!=null){try{return Zs.call(e)}catch{}try{return e+""}catch{}}return""}var tc=Qs,ec=qs,rc=Js,nc=pa,ic=tc,ac=/[\\^$.*+?()[\]{}|]/g,oc=/^\[object .+?Constructor\]$/,sc=Function.prototype,cc=Object.prototype,uc=sc.toString,lc=cc.hasOwnProperty,hc=RegExp("^"+uc.call(lc).replace(ac,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fc(e){if(!nc(e)||rc(e))return!1;var t=ec(e)?hc:oc;return t.test(ic(e))}var dc=fc;function pc(e,t){return e==null?void 0:e[t]}var vc=pc,gc=dc,mc=vc;function yc(e,t){var r=mc(e,t);return gc(r)?r:void 0}var zn=yc,bc=zn,wc=function(){try{var e=bc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),kd=wc;function xc(e,t){return e===t||e!==e&&t!==t}var Ec=xc,_c=Array.isArray,Sc=_c;function Cc(e){return e!=null&&typeof e=="object"}var Dc=Cc,Mc=da,Oc=Dc,$c="[object Symbol]";function Tc(e){return typeof e=="symbol"||Oc(e)&&Mc(e)==$c}var kc=Tc,Ac=zn,Nc=Ac(Object,"create"),Gr=Nc,Di=Gr;function Ic(){this.__data__=Di?Di(null):{},this.size=0}var Rc=Ic;function Pc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Lc=Pc,Yc=Gr,jc="__lodash_hash_undefined__",Hc=Object.prototype,Fc=Hc.hasOwnProperty;function zc(e){var t=this.__data__;if(Yc){var r=t[e];return r===jc?void 0:r}return Fc.call(t,e)?t[e]:void 0}var Bc=zc,Vc=Gr,qc=Object.prototype,Wc=qc.hasOwnProperty;function Xc(e){var t=this.__data__;return Vc?t[e]!==void 0:Wc.call(t,e)}var Uc=Xc,Gc=Gr,Jc="__lodash_hash_undefined__";function Kc(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Gc&&t===void 0?Jc:t,this}var Zc=Kc,Qc=Rc,tu=Lc,eu=Bc,ru=Uc,nu=Zc;function Qe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qe.prototype.clear=Qc;Qe.prototype.delete=tu;Qe.prototype.get=eu;Qe.prototype.has=ru;Qe.prototype.set=nu;var iu=Qe;function au(){this.__data__=[],this.size=0}var ou=au,su=Ec;function cu(e,t){for(var r=e.length;r--;)if(su(e[r][0],t))return r;return-1}var Jr=cu,uu=Jr,lu=Array.prototype,hu=lu.splice;function fu(e){var t=this.__data__,r=uu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():hu.call(t,r,1),--this.size,!0}var du=fu,pu=Jr;function vu(e){var t=this.__data__,r=pu(t,e);return r<0?void 0:t[r][1]}var gu=vu,mu=Jr;function yu(e){return mu(this.__data__,e)>-1}var bu=yu,wu=Jr;function xu(e,t){var r=this.__data__,n=wu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Eu=xu,_u=ou,Su=du,Cu=gu,Du=bu,Mu=Eu;function tr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tr.prototype.clear=_u;tr.prototype.delete=Su;tr.prototype.get=Cu;tr.prototype.has=Du;tr.prototype.set=Mu;var Ou=tr,$u=zn,Tu=Hn,ku=$u(Tu,"Map"),Au=ku,Mi=iu,Nu=Ou,Iu=Au;function Ru(){this.size=0,this.__data__={hash:new Mi,map:new(Iu||Nu),string:new Mi}}var Pu=Ru;function Lu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Yu=Lu,ju=Yu;function Hu(e,t){var r=e.__data__;return ju(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kr=Hu,Fu=Kr;function zu(e){var t=Fu(this,e).delete(e);return this.size-=t?1:0,t}var Bu=zu,Vu=Kr;function qu(e){return Vu(this,e).get(e)}var Wu=qu,Xu=Kr;function Uu(e){return Xu(this,e).has(e)}var Gu=Uu,Ju=Kr;function Ku(e,t){var r=Ju(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Zu=Ku,Qu=Pu,tl=Bu,el=Wu,rl=Gu,nl=Zu;function er(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}er.prototype.clear=Qu;er.prototype.delete=tl;er.prototype.get=el;er.prototype.has=rl;er.prototype.set=nl;var il=er,va=il,al="Expected a function";function Bn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(al);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Bn.Cache||va),r}Bn.Cache=va;var ol=Bn,sl=ol,cl=500;function ul(e){var t=sl(e,function(n){return r.size===cl&&r.clear(),n}),r=t.cache;return t}var ll=ul,hl=ll,fl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dl=/\\(\\)?/g,pl=hl(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fl,function(r,n,a,i){t.push(a?i.replace(dl,"$1"):n||r)}),t}),Ad=pl;function vl(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var gl=vl,Oi=Fn,ml=gl,yl=Sc,bl=kc,wl=1/0,$i=Oi?Oi.prototype:void 0,Ti=$i?$i.toString:void 0;function ga(e){if(typeof e=="string")return e;if(yl(e))return ml(e,ga)+"";if(bl(e))return Ti?Ti.call(e):"";var t=e+"";return t=="0"&&1/e==-wl?"-0":t}var Nd=ga;var wn=function(e,t){return wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},wn(e,t)};function Vn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function xl(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(l){try{u(n.next(l))}catch(h){o(h)}}function c(l){try{u(n.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):a(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function ma(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Er(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function _r(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ue(e){return this instanceof Ue?(this.v=e,this):new Ue(e)}function El(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(f){n[f]&&(a[f]=function(v){return new Promise(function(x,p){i.push([f,v,x,p])>1||s(f,v)})})}function s(f,v){try{c(n[f](v))}catch(x){h(i[0][3],x)}}function c(f){f.value instanceof Ue?Promise.resolve(f.value.v).then(u,l):h(i[0][2],f)}function u(f){s("next",f)}function l(f){s("throw",f)}function h(f,v){f(v),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _l(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Er=="function"?Er(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,c){o=e[i](o),a(s,c,o.done,o.value)})}}function a(i,o,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},o)}}function rt(e){return typeof e=="function"}function Sl(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var cn=Sl(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,a){return a+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function ki(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var qn=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,a,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Er(o),c=s.next();!c.done;c=s.next()){var u=c.value;u.remove(this)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else o.remove(this);var l=this.initialTeardown;if(rt(l))try{l()}catch(p){i=p instanceof cn?p.errors:[p]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Er(h),v=f.next();!v.done;v=f.next()){var x=v.value;try{Ai(x)}catch(p){i=i!=null?i:[],p instanceof cn?i=_r(_r([],Ke(i)),Ke(p.errors)):i.push(p)}}}catch(p){n={error:p}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}}if(i)throw new cn(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Ai(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&ki(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&ki(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();qn.EMPTY;function ya(e){return e instanceof qn||e&&"closed"in e&&rt(e.remove)&&rt(e.add)&&rt(e.unsubscribe)}function Ai(e){rt(e)?e():e.unsubscribe()}var ba={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xn={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=xn.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,_r([e,t],Ke(r))):setTimeout.apply(void 0,_r([e,t],Ke(r)))},clearTimeout:function(e){var t=xn.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function wa(e){xn.setTimeout(function(){throw e})}function Ni(){}function Cl(e){e()}var Wn=function(e){Vn(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ya(r)&&r.add(n)):n.destination=$l,n}return t.create=function(r,n,a){return new En(r,n,a)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(qn),Dl=Function.prototype.bind;function un(e,t){return Dl.call(e,t)}var Ml=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){jr(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){jr(n)}else jr(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){jr(r)}},e}(),En=function(e){Vn(t,e);function t(r,n,a){var i=e.call(this)||this,o;if(rt(r)||!r)o={next:r!=null?r:void 0,error:n!=null?n:void 0,complete:a!=null?a:void 0};else{var s;i&&ba.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return i.unsubscribe()},o={next:r.next&&un(r.next,s),error:r.error&&un(r.error,s),complete:r.complete&&un(r.complete,s)}):o=r}return i.destination=new Ml(o),i}return t}(Wn);function jr(e){wa(e)}function Ol(e){throw e}var $l={closed:!0,next:Ni,error:Ol,complete:Ni},Xn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Tl(e){return e}function kl(e){return e.length===0?Tl:e.length===1?e[0]:function(r){return e.reduce(function(n,a){return a(n)},r)}}var Ne=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var a=this,i=Nl(t)?t:new En(t,r,n);return Cl(function(){var o=a,s=o.operator,c=o.source;i.add(s?s.call(i,c):c?a._subscribe(i):a._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Ii(r),new r(function(a,i){var o=new En({next:function(s){try{t(s)}catch(c){i(c),o.unsubscribe()}},error:i,complete:a});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Xn]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return kl(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Ii(t),new t(function(n,a){var i;r.subscribe(function(o){return i=o},function(o){return a(o)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function Ii(e){var t;return(t=e!=null?e:ba.Promise)!==null&&t!==void 0?t:Promise}function Al(e){return e&&rt(e.next)&&rt(e.error)&&rt(e.complete)}function Nl(e){return e&&e instanceof Wn||Al(e)&&ya(e)}function Il(e){return rt(e==null?void 0:e.lift)}function xa(e){return function(t){if(Il(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function _n(e,t,r,n,a){return new Rl(e,t,r,n,a)}var Rl=function(e){Vn(t,e);function t(r,n,a,i,o,s){var c=e.call(this,r)||this;return c.onFinalize=o,c.shouldUnsubscribe=s,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=a?function(){try{a()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Wn),Ea=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Pl(e){return rt(e==null?void 0:e.then)}function Ll(e){return rt(e[Xn])}function Yl(e){return Symbol.asyncIterator&&rt(e==null?void 0:e[Symbol.asyncIterator])}function jl(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Hl(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fl=Hl();function zl(e){return rt(e==null?void 0:e[Fl])}function Bl(e){return El(this,arguments,function(){var r,n,a,i;return ma(this,function(o){switch(o.label){case 0:r=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Ue(r.read())];case 3:return n=o.sent(),a=n.value,i=n.done,i?[4,Ue(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Ue(a)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Vl(e){return rt(e==null?void 0:e.getReader)}function Un(e){if(e instanceof Ne)return e;if(e!=null){if(Ll(e))return ql(e);if(Ea(e))return Wl(e);if(Pl(e))return Xl(e);if(Yl(e))return _a(e);if(zl(e))return Ul(e);if(Vl(e))return Gl(e)}throw jl(e)}function ql(e){return new Ne(function(t){var r=e[Xn]();if(rt(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wl(e){return new Ne(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Xl(e){return new Ne(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,wa)})}function Ul(e){return new Ne(function(t){var r,n;try{for(var a=Er(e),i=a.next();!i.done;i=a.next()){var o=i.value;if(t.next(o),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}t.complete()})}function _a(e){return new Ne(function(t){Jl(e,t).catch(function(r){return t.error(r)})})}function Gl(e){return _a(Bl(e))}function Jl(e,t){var r,n,a,i;return xl(this,void 0,void 0,function(){var o,s;return ma(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=_l(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),a={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Kl(e,t,r,n,a){n===void 0&&(n=0),a===void 0&&(a=!1);var i=t.schedule(function(){r(),a?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!a)return i}function Sa(e,t){return xa(function(r,n){var a=0;r.subscribe(_n(n,function(i){n.next(e.call(t,i,a++))}))})}var Zl=Array.isArray;function Ql(e,t){return Zl(t)?e.apply(void 0,_r([],Ke(t))):e(t)}function th(e){return Sa(function(t){return Ql(e,t)})}function eh(e,t,r,n,a,i,o,s){var c=[],u=0,l=0,h=!1,f=function(){h&&!c.length&&!u&&t.complete()},v=function(p){return u<n?x(p):c.push(p)},x=function(p){i&&t.next(p),u++;var S=!1;Un(r(p,l++)).subscribe(_n(t,function(g){a==null||a(g),i?v(g):t.next(g)},function(){S=!0},void 0,function(){if(S)try{u--;for(var g=function(){var C=c.shift();o?Kl(t,o,function(){return x(C)}):x(C)};c.length&&u<n;)g();f()}catch(C){t.error(C)}}))};return e.subscribe(_n(t,v,function(){h=!0,f()})),function(){s==null||s()}}function Ca(e,t,r){return r===void 0&&(r=1/0),rt(t)?Ca(function(n,a){return Sa(function(i,o){return t(n,i,a,o)})(Un(e(n,a)))},r):(typeof t=="number"&&(r=t),xa(function(n,a){return eh(n,a,e,r)}))}var rh=["addListener","removeListener"],nh=["addEventListener","removeEventListener"],ih=["on","off"];function yr(e,t,r,n){if(rt(r)&&(n=r,r=void 0),n)return yr(e,t,r).pipe(th(n));var a=Ke(sh(e)?nh.map(function(s){return function(c){return e[s](t,c,r)}}):ah(e)?rh.map(Ri(e,t)):oh(e)?ih.map(Ri(e,t)):[],2),i=a[0],o=a[1];if(!i&&Ea(e))return Ca(function(s){return yr(s,t,r)})(Un(e));if(!i)throw new TypeError("Invalid event target");return new Ne(function(s){var c=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return s.next(1<u.length?u:u[0])};return i(c),function(){return o(c)}})}function Ri(e,t){return function(r){return function(n){return e[r](t,n)}}}function ah(e){return rt(e.addListener)&&rt(e.removeListener)}function oh(e){return rt(e.on)&&rt(e.off)}function sh(e){return rt(e.addEventListener)&&rt(e.removeEventListener)}let hr=1;function ch(e){const t=O.exports.useRef(),[r,n]=O.exports.useState(document.createElement("div")),{children:a,className:i,fullScreen:o,closeOnRemove:s,mountNode:c=document.querySelector("body"),zIndex:u=2e3,visible:l=!1,visibleChange:h,clickOutSide:f}=e,v=(C,E)=>{var A;if(E){const I=C.children.length>1?1:0,d=C.children[I].getBoundingClientRect();E.style.top=`${d.top}px`,E.style.left=`${d.left}px`;const D=E.offsetHeight,R=Math.floor(E.offsetHeight+d.top),_=c.offsetHeight,V=((A=t.current)==null?void 0:A.parentElement).offsetHeight;if(R>_){const F=d.top-D-V-5;E.style.top=`${F}px`}else E.style.top=`${d.top}px`}},x=C=>Array.of(...c.children).find(A=>{const I=A;return I.numberId?(I==null?void 0:I.numberId)===(C==null?void 0:C.numberId):!1}),p=()=>{var E;const C=(E=t.current)==null?void 0:E.parentElement;if(C){const A=x(C);A&&(A.style.display="block",o||v(C,A))}},S=()=>{var E;const C=(E=t.current)==null?void 0:E.parentElement;if(C){const A=x(C);A&&(s?c.removeChild(A):A.style.display="none")}},g=()=>{const C=r,E=t.current.parentElement;console.log(E);const A=E.children.length>1?1:0,I=E.children[A].getBoundingClientRect();x(E)||(C.className=`otaku-teleport-container ${i||""}`,C.style.cssText=`
        display: ${l?"block":"none"};
        z-index: ${u};
        position: fixed;
        top: ${I.top}px;
        left: ${I.left}px;
      `,E.numberId=hr,E.teleportId=Symbol(hr),C.numberId||(C.numberId=hr,C.teleportId=Symbol(hr),c==null||c.appendChild(C),hr++),v(E,C),n(C))};return O.exports.useEffect(()=>{var A;const C=new ResizeObserver(()=>{l&&g()});c&&C.observe(c),((A=t.current)==null?void 0:A.parentElement).numberId&&(l?p():S()),h==null||h(l);const E=yr(document,"click").subscribe(I=>{var D;const d=(D=t.current)==null?void 0:D.parentElement;!(d!=null&&d.contains(I.target))&&!r.contains(I.target)&&l&&(f==null||f())});return()=>{E.unsubscribe(),C.disconnect()}},[l]),O.exports.useEffect(()=>{const C=()=>{var I;if(l){const d=(I=t.current)==null?void 0:I.parentElement,D=x(d);D&&(o||v(d,D))}},E=yr(window,"scroll").subscribe(C),A=yr(window,"resize").subscribe(C);return()=>{E.unsubscribe(),A.unsubscribe()}},[l]),w("div",{className:`otaku-popup ${i!=null?i:""}`,ref:t,role:"tooltip",children:oa.exports.createPortal(a,r)})}L.extend(jn);function Id(e){const{date:t=[L(),L()],onChange:r}=e,[n,a]=t,[i,o]=O.exports.useState([L(n),L(a)]),s=c=>{console.log("-----",c.map(u=>u.format("YYYY-MM-DD"))),o([...c])};return O.exports.useEffect(()=>{console.log("watch")},[i]),tt(Ur,{children:[w(pn,{value:i,onChange:s}),w(pn,{value:i,panel:"end",onChange:s})]})}const uh=at.createContext({selected:void 0});function Rd(e){const{value:t,disabled:r,size:n,multiple:a,placeholder:i,children:o}=e,[s,c]=O.exports.useState(!1),[u,l]=O.exports.useState(t||void 0),[h,f]=O.exports.useState(t||[]),[v,x]=O.exports.useState();O.exports.useEffect(()=>{t&&a?f(t):l(t)},[a,t]);const p=g=>{if(console.log(g,g.target,g.target.value),a)if(!h.includes(g.target.value))f([...h,g.target.value]);else{const C=h.findIndex(E=>E===g.target.value);h.splice(C,1),f([...h])}else l(g.target.value),c(!1),x(g.target.dataset.label),console.log(g.target.dataset)};return tt("div",{className:"otaku-select-container",children:[w(No,{value:v,size:n,disabled:r,readonly:!0,placeholder:i,className:"otaku-select-input",afterIcon:w(Yn,{name:`arrow-down ${s?"rotate":""}`}),onFocus:()=>{c(!0)}}),w(ch,{visible:s,clickOutSide:()=>c(!1),children:w(uh.Provider,{value:{multiple:a,selected:a?h:u!=null?u:""},children:w("ul",{className:"otaku-select",onClick:p,children:o})})})]})}/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pi(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sn(e){return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(e)}function lh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hh(e,t,r){return t&&Li(e.prototype,t),r&&Li(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ma(e){return dh(e)||ph(e)||vh(e)||gh()}function dh(e){if(Array.isArray(e))return Cn(e)}function ph(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vh(e,t){if(!!e){if(typeof e=="string")return Cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cn(e,t)}}function Cn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zr=typeof window<"u"&&typeof window.document<"u",Ft=Zr?window:{},Gn=Zr&&Ft.document.documentElement?"ontouchstart"in Ft.document.documentElement:!1,Jn=Zr?"PointerEvent"in Ft:!1,Q="cropper",Kn="all",Oa="crop",$a="move",Ta="zoom",Ce="e",De="w",Ve="s",ue="n",fr="ne",dr="nw",pr="se",vr="sw",Dn="".concat(Q,"-crop"),Yi="".concat(Q,"-disabled"),bt="".concat(Q,"-hidden"),ji="".concat(Q,"-hide"),mh="".concat(Q,"-invisible"),qr="".concat(Q,"-modal"),Mn="".concat(Q,"-move"),Sr="".concat(Q,"Action"),Hr="".concat(Q,"Preview"),Zn="crop",ka="move",Aa="none",On="crop",$n="cropend",Tn="cropmove",kn="cropstart",Hi="dblclick",yh=Gn?"touchstart":"mousedown",bh=Gn?"touchmove":"mousemove",wh=Gn?"touchend touchcancel":"mouseup",Fi=Jn?"pointerdown":yh,zi=Jn?"pointermove":bh,Bi=Jn?"pointerup pointercancel":wh,Vi="ready",qi="resize",Wi="wheel",An="zoom",Xi="image/jpeg",xh=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Eh=/^data:/,_h=/^data:image\/jpeg;base64,/,Sh=/^img|canvas$/i,Na=200,Ia=100,Ui={viewMode:0,dragMode:Zn,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Na,minContainerHeight:Ia,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ch='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Dh=Number.isNaN||Ft.isNaN;function z(e){return typeof e=="number"&&!Dh(e)}var Gi=function(t){return t>0&&t<1/0};function ln(e){return typeof e>"u"}function ke(e){return Sn(e)==="object"&&e!==null}var Mh=Object.prototype.hasOwnProperty;function We(e){if(!ke(e))return!1;try{var t=e.constructor,r=t.prototype;return t&&r&&Mh.call(r,"isPrototypeOf")}catch{return!1}}function yt(e){return typeof e=="function"}var Oh=Array.prototype.slice;function Ra(e){return Array.from?Array.from(e):Oh.call(e)}function st(e,t){return e&&yt(t)&&(Array.isArray(e)||z(e.length)?Ra(e).forEach(function(r,n){t.call(e,r,n,e)}):ke(e)&&Object.keys(e).forEach(function(r){t.call(e,e[r],r,e)})),e}var et=Object.assign||function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return ke(t)&&n.length>0&&n.forEach(function(i){ke(i)&&Object.keys(i).forEach(function(o){t[o]=i[o]})}),t},$h=/\.\d*(?:0|9){12}\d*$/;function Ge(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return $h.test(e)?Math.round(e*t)/t:e}var Th=/^width|height|left|top|marginLeft|marginTop$/;function he(e,t){var r=e.style;st(t,function(n,a){Th.test(a)&&z(n)&&(n="".concat(n,"px")),r[a]=n})}function kh(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function ht(e,t){if(!!t){if(z(e.length)){st(e,function(n){ht(n,t)});return}if(e.classList){e.classList.add(t);return}var r=e.className.trim();r?r.indexOf(t)<0&&(e.className="".concat(r," ").concat(t)):e.className=t}}function Ht(e,t){if(!!t){if(z(e.length)){st(e,function(r){Ht(r,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Xe(e,t,r){if(!!t){if(z(e.length)){st(e,function(n){Xe(n,t,r)});return}r?ht(e,t):Ht(e,t)}}var Ah=/([a-z\d])([A-Z])/g;function Qn(e){return e.replace(Ah,"$1-$2").toLowerCase()}function Nn(e,t){return ke(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Qn(t)))}function Cr(e,t,r){ke(r)?e[t]=r:e.dataset?e.dataset[t]=r:e.setAttribute("data-".concat(Qn(t)),r)}function Nh(e,t){if(ke(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Qn(t)))}var Pa=/\s\s*/,La=function(){var e=!1;if(Zr){var t=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(i){t=i}});Ft.addEventListener("test",r,n),Ft.removeEventListener("test",r,n)}return e}();function It(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;t.trim().split(Pa).forEach(function(i){if(!La){var o=e.listeners;o&&o[i]&&o[i][r]&&(a=o[i][r],delete o[i][r],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete e.listeners)}e.removeEventListener(i,a,n)})}function Mt(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;t.trim().split(Pa).forEach(function(i){if(n.once&&!La){var o=e.listeners,s=o===void 0?{}:o;a=function(){delete s[i][r],e.removeEventListener(i,a,n);for(var u=arguments.length,l=new Array(u),h=0;h<u;h++)l[h]=arguments[h];r.apply(e,l)},s[i]||(s[i]={}),s[i][r]&&e.removeEventListener(i,s[i][r],n),s[i][r]=a,e.listeners=s}e.addEventListener(i,a,n)})}function Je(e,t,r){var n;return yt(Event)&&yt(CustomEvent)?n=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,r)),e.dispatchEvent(n)}function Ya(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var hn=Ft.location,Ih=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ji(e){var t=e.match(Ih);return t!==null&&(t[1]!==hn.protocol||t[2]!==hn.hostname||t[3]!==hn.port)}function Ki(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function br(e){var t=e.rotate,r=e.scaleX,n=e.scaleY,a=e.translateX,i=e.translateY,o=[];z(a)&&a!==0&&o.push("translateX(".concat(a,"px)")),z(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),z(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),z(r)&&r!==1&&o.push("scaleX(".concat(r,")")),z(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Rh(e){var t=Da({},e),r=0;return st(e,function(n,a){delete t[a],st(t,function(i){var o=Math.abs(n.startX-i.startX),s=Math.abs(n.startY-i.startY),c=Math.abs(n.endX-i.endX),u=Math.abs(n.endY-i.endY),l=Math.sqrt(o*o+s*s),h=Math.sqrt(c*c+u*u),f=(h-l)/l;Math.abs(f)>Math.abs(r)&&(r=f)})}),r}function Fr(e,t){var r=e.pageX,n=e.pageY,a={endX:r,endY:n};return t?a:Da({startX:r,startY:n},a)}function Ph(e){var t=0,r=0,n=0;return st(e,function(a){var i=a.startX,o=a.startY;t+=i,r+=o,n+=1}),t/=n,r/=n,{pageX:t,pageY:r}}function fe(e){var t=e.aspectRatio,r=e.height,n=e.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=Gi(n),o=Gi(r);if(i&&o){var s=r*t;a==="contain"&&s>n||a==="cover"&&s<n?r=n/t:n=r*t}else i?r=n/t:o&&(n=r*t);return{width:n,height:r}}function Lh(e){var t=e.width,r=e.height,n=e.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:t};var a=n%90*Math.PI/180,i=Math.sin(a),o=Math.cos(a),s=t*o+r*i,c=t*i+r*o;return n>90?{width:c,height:s}:{width:s,height:c}}function Yh(e,t,r,n){var a=t.aspectRatio,i=t.naturalWidth,o=t.naturalHeight,s=t.rotate,c=s===void 0?0:s,u=t.scaleX,l=u===void 0?1:u,h=t.scaleY,f=h===void 0?1:h,v=r.aspectRatio,x=r.naturalWidth,p=r.naturalHeight,S=n.fillColor,g=S===void 0?"transparent":S,C=n.imageSmoothingEnabled,E=C===void 0?!0:C,A=n.imageSmoothingQuality,I=A===void 0?"low":A,d=n.maxWidth,D=d===void 0?1/0:d,R=n.maxHeight,_=R===void 0?1/0:R,T=n.minWidth,V=T===void 0?0:T,F=n.minHeight,$=F===void 0?0:F,b=document.createElement("canvas"),m=b.getContext("2d"),k=fe({aspectRatio:v,width:D,height:_}),M=fe({aspectRatio:v,width:V,height:$},"cover"),N=Math.min(k.width,Math.max(M.width,x)),P=Math.min(k.height,Math.max(M.height,p)),j=fe({aspectRatio:a,width:D,height:_}),X=fe({aspectRatio:a,width:V,height:$},"cover"),q=Math.min(j.width,Math.max(X.width,i)),U=Math.min(j.height,Math.max(X.height,o)),nt=[-q/2,-U/2,q,U];return b.width=Ge(N),b.height=Ge(P),m.fillStyle=g,m.fillRect(0,0,N,P),m.save(),m.translate(N/2,P/2),m.rotate(c*Math.PI/180),m.scale(l,f),m.imageSmoothingEnabled=E,m.imageSmoothingQuality=I,m.drawImage.apply(m,[e].concat(Ma(nt.map(function(it){return Math.floor(Ge(it))})))),m.restore(),b}var ja=String.fromCharCode;function jh(e,t,r){var n="";r+=t;for(var a=t;a<r;a+=1)n+=ja(e.getUint8(a));return n}var Hh=/^data:.*,/;function Fh(e){var t=e.replace(Hh,""),r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n);return st(a,function(i,o){a[o]=r.charCodeAt(o)}),n}function zh(e,t){for(var r=[],n=8192,a=new Uint8Array(e);a.length>0;)r.push(ja.apply(null,Ra(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(t,";base64,").concat(btoa(r.join("")))}function Bh(e){var t=new DataView(e),r;try{var n,a,i;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,s=2;s+1<o;){if(t.getUint8(s)===255&&t.getUint8(s+1)===225){a=s;break}s+=1}if(a){var c=a+4,u=a+10;if(jh(t,c,4)==="Exif"){var l=t.getUint16(u);if(n=l===18761,(n||l===19789)&&t.getUint16(u+2,n)===42){var h=t.getUint32(u+4,n);h>=8&&(i=u+h)}}}if(i){var f=t.getUint16(i,n),v,x;for(x=0;x<f;x+=1)if(v=i+x*12+2,t.getUint16(v,n)===274){v+=8,r=t.getUint16(v,n),t.setUint16(v,1,n);break}}}catch{r=1}return r}function Vh(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:r,scaleY:n}}var qh={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,r=this.options,n=this.container,a=this.cropper,i=Number(r.minContainerWidth),o=Number(r.minContainerHeight);ht(a,bt),Ht(t,bt);var s={width:Math.max(n.offsetWidth,i>=0?i:Na),height:Math.max(n.offsetHeight,o>=0?o:Ia)};this.containerData=s,he(a,{width:s.width,height:s.height}),ht(t,bt),Ht(a,bt)},initCanvas:function(){var t=this.containerData,r=this.imageData,n=this.options.viewMode,a=Math.abs(r.rotate)%180===90,i=a?r.naturalHeight:r.naturalWidth,o=a?r.naturalWidth:r.naturalHeight,s=i/o,c=t.width,u=t.height;t.height*s>t.width?n===3?c=t.height*s:u=t.width/s:n===3?u=t.width/s:c=t.height*s;var l={aspectRatio:s,naturalWidth:i,naturalHeight:o,width:c,height:u};this.canvasData=l,this.limited=n===1||n===2,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(t.width-l.width)/2,l.top=(t.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=et({},l)},limitCanvas:function(t,r){var n=this.options,a=this.containerData,i=this.canvasData,o=this.cropBoxData,s=n.viewMode,c=i.aspectRatio,u=this.cropped&&o;if(t){var l=Number(n.minCanvasWidth)||0,h=Number(n.minCanvasHeight)||0;s>1?(l=Math.max(l,a.width),h=Math.max(h,a.height),s===3&&(h*c>l?l=h*c:h=l/c)):s>0&&(l?l=Math.max(l,u?o.width:0):h?h=Math.max(h,u?o.height:0):u&&(l=o.width,h=o.height,h*c>l?l=h*c:h=l/c));var f=fe({aspectRatio:c,width:l,height:h});l=f.width,h=f.height,i.minWidth=l,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(r)if(s>(u?0:1)){var v=a.width-i.width,x=a.height-i.height;i.minLeft=Math.min(0,v),i.minTop=Math.min(0,x),i.maxLeft=Math.max(0,v),i.maxTop=Math.max(0,x),u&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,s===2&&(i.width>=a.width&&(i.minLeft=Math.min(0,v),i.maxLeft=Math.max(0,v)),i.height>=a.height&&(i.minTop=Math.min(0,x),i.maxTop=Math.max(0,x))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=a.width,i.maxTop=a.height},renderCanvas:function(t,r){var n=this.canvasData,a=this.imageData;if(r){var i=Lh({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),o=i.width,s=i.height,c=n.width*(o/n.naturalWidth),u=n.height*(s/n.naturalHeight);n.left-=(c-n.width)/2,n.top-=(u-n.height)/2,n.width=c,n.height=u,n.aspectRatio=o/s,n.naturalWidth=o,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,he(this.canvas,et({width:n.width,height:n.height},br({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var r=this.canvasData,n=this.imageData,a=n.naturalWidth*(r.width/r.naturalWidth),i=n.naturalHeight*(r.height/r.naturalHeight);et(n,{width:a,height:i,left:(r.width-a)/2,top:(r.height-i)/2}),he(this.image,et({width:n.width,height:n.height},br(et({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,r=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,a=Number(t.autoCropArea)||.8,i={width:r.width,height:r.height};n&&(r.height*n>r.width?i.height=i.width/n:i.width=i.height*n),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*a),i.height=Math.max(i.minHeight,i.height*a),i.left=r.left+(r.width-i.width)/2,i.top=r.top+(r.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=et({},i)},limitCropBox:function(t,r){var n=this.options,a=this.containerData,i=this.canvasData,o=this.cropBoxData,s=this.limited,c=n.aspectRatio;if(t){var u=Number(n.minCropBoxWidth)||0,l=Number(n.minCropBoxHeight)||0,h=s?Math.min(a.width,i.width,i.width+i.left,a.width-i.left):a.width,f=s?Math.min(a.height,i.height,i.height+i.top,a.height-i.top):a.height;u=Math.min(u,a.width),l=Math.min(l,a.height),c&&(u&&l?l*c>u?l=u/c:u=l*c:u?l=u/c:l&&(u=l*c),f*c>h?f=h/c:h=f*c),o.minWidth=Math.min(u,h),o.minHeight=Math.min(l,f),o.maxWidth=h,o.maxHeight=f}r&&(s?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(a.width,i.left+i.width)-o.width,o.maxTop=Math.min(a.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=a.width-o.width,o.maxTop=a.height-o.height))},renderCropBox:function(){var t=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&Cr(this.face,Sr,n.width>=r.width&&n.height>=r.height?$a:Kn),he(this.cropBox,et({width:n.width,height:n.height},br({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Je(this.element,On,this.getData())}},Wh={initPreview:function(){var t=this.element,r=this.crossOrigin,n=this.options.preview,a=r?this.crossOriginUrl:this.url,i=t.alt||"The image to preview",o=document.createElement("img");if(r&&(o.crossOrigin=r),o.src=a,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!n){var s=n;typeof n=="string"?s=t.ownerDocument.querySelectorAll(n):n.querySelector&&(s=[n]),this.previews=s,st(s,function(c){var u=document.createElement("img");Cr(c,Hr,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),r&&(u.crossOrigin=r),u.src=a,u.alt=i,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){st(this.previews,function(t){var r=Nn(t,Hr);he(t,{width:r.width,height:r.height}),t.innerHTML=r.html,Nh(t,Hr)})},preview:function(){var t=this.imageData,r=this.canvasData,n=this.cropBoxData,a=n.width,i=n.height,o=t.width,s=t.height,c=n.left-r.left-t.left,u=n.top-r.top-t.top;!this.cropped||this.disabled||(he(this.viewBoxImage,et({width:o,height:s},br(et({translateX:-c,translateY:-u},t)))),st(this.previews,function(l){var h=Nn(l,Hr),f=h.width,v=h.height,x=f,p=v,S=1;a&&(S=f/a,p=i*S),i&&p>v&&(S=v/i,x=a*S,p=v),he(l,{width:x,height:p}),he(l.getElementsByTagName("img")[0],et({width:o*S,height:s*S},br(et({translateX:-c*S,translateY:-u*S},t))))}))}},Xh={bind:function(){var t=this.element,r=this.options,n=this.cropper;yt(r.cropstart)&&Mt(t,kn,r.cropstart),yt(r.cropmove)&&Mt(t,Tn,r.cropmove),yt(r.cropend)&&Mt(t,$n,r.cropend),yt(r.crop)&&Mt(t,On,r.crop),yt(r.zoom)&&Mt(t,An,r.zoom),Mt(n,Fi,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&Mt(n,Wi,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Mt(n,Hi,this.onDblclick=this.dblclick.bind(this)),Mt(t.ownerDocument,zi,this.onCropMove=this.cropMove.bind(this)),Mt(t.ownerDocument,Bi,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&Mt(window,qi,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,r=this.options,n=this.cropper;yt(r.cropstart)&&It(t,kn,r.cropstart),yt(r.cropmove)&&It(t,Tn,r.cropmove),yt(r.cropend)&&It(t,$n,r.cropend),yt(r.crop)&&It(t,On,r.crop),yt(r.zoom)&&It(t,An,r.zoom),It(n,Fi,this.onCropStart),r.zoomable&&r.zoomOnWheel&&It(n,Wi,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&It(n,Hi,this.onDblclick),It(t.ownerDocument,zi,this.onCropMove),It(t.ownerDocument,Bi,this.onCropEnd),r.responsive&&It(window,qi,this.onResize)}},Uh={resize:function(){if(!this.disabled){var t=this.options,r=this.container,n=this.containerData,a=r.offsetWidth/n.width,i=r.offsetHeight/n.height,o=Math.abs(a-1)>Math.abs(i-1)?a:i;if(o!==1){var s,c;t.restore&&(s=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(st(s,function(u,l){s[l]=u*o})),this.setCropBoxData(st(c,function(u,l){c[l]=u*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===Aa||this.setDragMode(kh(this.dragBox,Dn)?ka:Zn)},wheel:function(t){var r=this,n=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),t.deltaY?a=t.deltaY>0?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=t.detail>0?1:-1),this.zoom(-a*n,t)))},cropStart:function(t){var r=t.buttons,n=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(z(r)&&r!==1||z(n)&&n!==0||t.ctrlKey))){var a=this.options,i=this.pointers,o;t.changedTouches?st(t.changedTouches,function(s){i[s.identifier]=Fr(s)}):i[t.pointerId||0]=Fr(t),Object.keys(i).length>1&&a.zoomable&&a.zoomOnTouch?o=Ta:o=Nn(t.target,Sr),!!xh.test(o)&&Je(this.element,kn,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===Oa&&(this.cropping=!0,ht(this.dragBox,qr)))}},cropMove:function(t){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;t.preventDefault(),Je(this.element,Tn,{originalEvent:t,action:r})!==!1&&(t.changedTouches?st(t.changedTouches,function(a){et(n[a.identifier]||{},Fr(a,!0))}):et(n[t.pointerId||0]||{},Fr(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var r=this.action,n=this.pointers;t.changedTouches?st(t.changedTouches,function(a){delete n[a.identifier]}):delete n[t.pointerId||0],r&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Xe(this.dragBox,qr,this.cropped&&this.options.modal)),Je(this.element,$n,{originalEvent:t,action:r}))}}},Gh={change:function(t){var r=this.options,n=this.canvasData,a=this.containerData,i=this.cropBoxData,o=this.pointers,s=this.action,c=r.aspectRatio,u=i.left,l=i.top,h=i.width,f=i.height,v=u+h,x=l+f,p=0,S=0,g=a.width,C=a.height,E=!0,A;!c&&t.shiftKey&&(c=h&&f?h/f:1),this.limited&&(p=i.minLeft,S=i.minTop,g=p+Math.min(a.width,n.width,n.left+n.width),C=S+Math.min(a.height,n.height,n.top+n.height));var I=o[Object.keys(o)[0]],d={x:I.endX-I.startX,y:I.endY-I.startY},D=function(_){switch(_){case Ce:v+d.x>g&&(d.x=g-v);break;case De:u+d.x<p&&(d.x=p-u);break;case ue:l+d.y<S&&(d.y=S-l);break;case Ve:x+d.y>C&&(d.y=C-x);break}};switch(s){case Kn:u+=d.x,l+=d.y;break;case Ce:if(d.x>=0&&(v>=g||c&&(l<=S||x>=C))){E=!1;break}D(Ce),h+=d.x,h<0&&(s=De,h=-h,u-=h),c&&(f=h/c,l+=(i.height-f)/2);break;case ue:if(d.y<=0&&(l<=S||c&&(u<=p||v>=g))){E=!1;break}D(ue),f-=d.y,l+=d.y,f<0&&(s=Ve,f=-f,l-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case De:if(d.x<=0&&(u<=p||c&&(l<=S||x>=C))){E=!1;break}D(De),h-=d.x,u+=d.x,h<0&&(s=Ce,h=-h,u-=h),c&&(f=h/c,l+=(i.height-f)/2);break;case Ve:if(d.y>=0&&(x>=C||c&&(u<=p||v>=g))){E=!1;break}D(Ve),f+=d.y,f<0&&(s=ue,f=-f,l-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case fr:if(c){if(d.y<=0&&(l<=S||v>=g)){E=!1;break}D(ue),f-=d.y,l+=d.y,h=f*c}else D(ue),D(Ce),d.x>=0?v<g?h+=d.x:d.y<=0&&l<=S&&(E=!1):h+=d.x,d.y<=0?l>S&&(f-=d.y,l+=d.y):(f-=d.y,l+=d.y);h<0&&f<0?(s=vr,f=-f,h=-h,l-=f,u-=h):h<0?(s=dr,h=-h,u-=h):f<0&&(s=pr,f=-f,l-=f);break;case dr:if(c){if(d.y<=0&&(l<=S||u<=p)){E=!1;break}D(ue),f-=d.y,l+=d.y,h=f*c,u+=i.width-h}else D(ue),D(De),d.x<=0?u>p?(h-=d.x,u+=d.x):d.y<=0&&l<=S&&(E=!1):(h-=d.x,u+=d.x),d.y<=0?l>S&&(f-=d.y,l+=d.y):(f-=d.y,l+=d.y);h<0&&f<0?(s=pr,f=-f,h=-h,l-=f,u-=h):h<0?(s=fr,h=-h,u-=h):f<0&&(s=vr,f=-f,l-=f);break;case vr:if(c){if(d.x<=0&&(u<=p||x>=C)){E=!1;break}D(De),h-=d.x,u+=d.x,f=h/c}else D(Ve),D(De),d.x<=0?u>p?(h-=d.x,u+=d.x):d.y>=0&&x>=C&&(E=!1):(h-=d.x,u+=d.x),d.y>=0?x<C&&(f+=d.y):f+=d.y;h<0&&f<0?(s=fr,f=-f,h=-h,l-=f,u-=h):h<0?(s=pr,h=-h,u-=h):f<0&&(s=dr,f=-f,l-=f);break;case pr:if(c){if(d.x>=0&&(v>=g||x>=C)){E=!1;break}D(Ce),h+=d.x,f=h/c}else D(Ve),D(Ce),d.x>=0?v<g?h+=d.x:d.y>=0&&x>=C&&(E=!1):h+=d.x,d.y>=0?x<C&&(f+=d.y):f+=d.y;h<0&&f<0?(s=dr,f=-f,h=-h,l-=f,u-=h):h<0?(s=vr,h=-h,u-=h):f<0&&(s=fr,f=-f,l-=f);break;case $a:this.move(d.x,d.y),E=!1;break;case Ta:this.zoom(Rh(o),t),E=!1;break;case Oa:if(!d.x||!d.y){E=!1;break}A=Ya(this.cropper),u=I.startX-A.left,l=I.startY-A.top,h=i.minWidth,f=i.minHeight,d.x>0?s=d.y>0?pr:fr:d.x<0&&(u-=h,s=d.y>0?vr:dr),d.y<0&&(l-=f),this.cropped||(Ht(this.cropBox,bt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}E&&(i.width=h,i.height=f,i.left=u,i.top=l,this.action=s,this.renderCropBox()),st(o,function(R){R.startX=R.endX,R.startY=R.endY})}},Jh={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ht(this.dragBox,qr),Ht(this.cropBox,bt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=et({},this.initialImageData),this.canvasData=et({},this.initialCanvasData),this.cropBoxData=et({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(et(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ht(this.dragBox,qr),ht(this.cropBox,bt)),this},replace:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),r?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,st(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ht(this.cropper,Yi)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ht(this.cropper,Yi)),this},destroy:function(){var t=this.element;return t[Q]?(t[Q]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,a=n.left,i=n.top;return this.moveTo(ln(t)?t:a+Number(t),ln(r)?r:i+Number(r))},moveTo:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,a=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(z(t)&&(n.left=t,a=!0),z(r)&&(n.top=r,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(t,r){var n=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(n.width*t/n.naturalWidth,null,r)},zoomTo:function(t,r,n){var a=this.options,i=this.canvasData,o=i.width,s=i.height,c=i.naturalWidth,u=i.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&a.zoomable){var l=c*t,h=u*t;if(Je(this.element,An,{ratio:t,oldRatio:o/c,originalEvent:n})===!1)return this;if(n){var f=this.pointers,v=Ya(this.cropper),x=f&&Object.keys(f).length?Ph(f):{pageX:n.pageX,pageY:n.pageY};i.left-=(l-o)*((x.pageX-v.left-i.left)/o),i.top-=(h-s)*((x.pageY-v.top-i.top)/s)}else We(r)&&z(r.x)&&z(r.y)?(i.left-=(l-o)*((r.x-i.left)/o),i.top-=(h-s)*((r.y-i.top)/s)):(i.left-=(l-o)/2,i.top-=(h-s)/2);i.width=l,i.height=h,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),z(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var r=this.imageData.scaleY;return this.scale(t,z(r)?r:1)},scaleY:function(t){var r=this.imageData.scaleX;return this.scale(z(r)?r:1,t)},scale:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.imageData,a=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(z(t)&&(n.scaleX=t,a=!0),z(r)&&(n.scaleY=r,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,a=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-a.left,y:i.top-a.top,width:i.width,height:i.height};var s=n.width/n.naturalWidth;if(st(o,function(l,h){o[h]=l/s}),t){var c=Math.round(o.y+o.height),u=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=u-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return r.rotatable&&(o.rotate=n.rotate||0),r.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(t){var r=this.options,n=this.imageData,a=this.canvasData,i={};if(this.ready&&!this.disabled&&We(t)){var o=!1;r.rotatable&&z(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),r.scalable&&(z(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),z(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=n.width/n.naturalWidth;z(t.x)&&(i.left=t.x*s+a.left),z(t.y)&&(i.top=t.y*s+a.top),z(t.width)&&(i.width=t.width*s),z(t.height)&&(i.height=t.height*s),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?et({},this.containerData):{}},getImageData:function(){return this.sized?et({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,r={};return this.ready&&st(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=t[n]}),r},setCanvasData:function(t){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&We(t)&&(z(t.left)&&(r.left=t.left),z(t.top)&&(r.top=t.top),z(t.width)?(r.width=t.width,r.height=t.width/n):z(t.height)&&(r.height=t.height,r.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:t.left,top:t.top,width:t.width,height:t.height}),r||{}},setCropBoxData:function(t){var r=this.cropBoxData,n=this.options.aspectRatio,a,i;return this.ready&&this.cropped&&!this.disabled&&We(t)&&(z(t.left)&&(r.left=t.left),z(t.top)&&(r.top=t.top),z(t.width)&&t.width!==r.width&&(a=!0,r.width=t.width),z(t.height)&&t.height!==r.height&&(i=!0,r.height=t.height),n&&(a?r.height=r.width/n:i&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=Yh(this.image,this.imageData,r,t);if(!this.cropped)return n;var a=this.getData(),i=a.x,o=a.y,s=a.width,c=a.height,u=n.width/Math.floor(r.naturalWidth);u!==1&&(i*=u,o*=u,s*=u,c*=u);var l=s/c,h=fe({aspectRatio:l,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=fe({aspectRatio:l,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=fe({aspectRatio:l,width:t.width||(u!==1?n.width:s),height:t.height||(u!==1?n.height:c)}),x=v.width,p=v.height;x=Math.min(h.width,Math.max(f.width,x)),p=Math.min(h.height,Math.max(f.height,p));var S=document.createElement("canvas"),g=S.getContext("2d");S.width=Ge(x),S.height=Ge(p),g.fillStyle=t.fillColor||"transparent",g.fillRect(0,0,x,p);var C=t.imageSmoothingEnabled,E=C===void 0?!0:C,A=t.imageSmoothingQuality;g.imageSmoothingEnabled=E,A&&(g.imageSmoothingQuality=A);var I=n.width,d=n.height,D=i,R=o,_,T,V,F,$,b;D<=-s||D>I?(D=0,_=0,V=0,$=0):D<=0?(V=-D,D=0,_=Math.min(I,s+D),$=_):D<=I&&(V=0,_=Math.min(s,I-D),$=_),_<=0||R<=-c||R>d?(R=0,T=0,F=0,b=0):R<=0?(F=-R,R=0,T=Math.min(d,c+R),b=T):R<=d&&(F=0,T=Math.min(c,d-R),b=T);var m=[D,R,_,T];if($>0&&b>0){var k=x/s;m.push(V*k,F*k,$*k,b*k)}return g.drawImage.apply(g,[n].concat(Ma(m.map(function(M){return Math.floor(Ge(M))})))),S},setAspectRatio:function(t){var r=this.options;return!this.disabled&&!ln(t)&&(r.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var r=this.options,n=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var i=t===Zn,o=r.movable&&t===ka;t=i||o?t:Aa,r.dragMode=t,Cr(n,Sr,t),Xe(n,Dn,i),Xe(n,Mn,o),r.cropBoxMovable||(Cr(a,Sr,t),Xe(a,Dn,i),Xe(a,Mn,o))}return this}},Kh=Ft.Cropper,Zh=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(lh(this,e),!t||!Sh.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=et({},Ui,We(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return hh(e,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),a;if(!r[Q]){if(r[Q]=this,n==="img"){if(this.isImg=!0,a=r.getAttribute("src")||"",this.originalUrl=a,!a)return;a=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(a=r.toDataURL());this.load(a)}}},{key:"load",value:function(r){var n=this;if(!!r){this.url=r,this.imageData={};var a=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Eh.test(r)){_h.test(r)?this.read(Fh(r)):this.clone();return}var o=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=s,o.onerror=s,o.ontimeout=s,o.onprogress=function(){o.getResponseHeader("content-type")!==Xi&&o.abort()},o.onload=function(){n.read(o.response)},o.onloadend=function(){n.reloading=!1,n.xhr=null},i.checkCrossOrigin&&Ji(r)&&a.crossOrigin&&(r=Ki(r)),o.open("GET",r,!0),o.responseType="arraybuffer",o.withCredentials=a.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(r){var n=this.options,a=this.imageData,i=Bh(r),o=0,s=1,c=1;if(i>1){this.url=zh(r,Xi);var u=Vh(i);o=u.rotate,s=u.scaleX,c=u.scaleY}n.rotatable&&(a.rotate=o),n.scalable&&(a.scaleX=s,a.scaleY=c),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,a=r.crossOrigin,i=n;this.options.checkCrossOrigin&&Ji(n)&&(a||(a="anonymous"),i=Ki(n)),this.crossOrigin=a,this.crossOriginUrl=i;var o=document.createElement("img");a&&(o.crossOrigin=a),o.src=i||n,o.alt=r.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),ht(o,ji),r.parentNode.insertBefore(o,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var a=Ft.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ft.navigator.userAgent),i=function(u,l){et(r.imageData,{naturalWidth:u,naturalHeight:l,aspectRatio:u/l}),r.initialImageData=et({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!a){i(n.naturalWidth,n.naturalHeight);return}var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),a||s.removeChild(o)},o.src=n.src,a||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,a=this.image,i=r.parentNode,o=document.createElement("div");o.innerHTML=Ch;var s=o.querySelector(".".concat(Q,"-container")),c=s.querySelector(".".concat(Q,"-canvas")),u=s.querySelector(".".concat(Q,"-drag-box")),l=s.querySelector(".".concat(Q,"-crop-box")),h=l.querySelector(".".concat(Q,"-face"));this.container=i,this.cropper=s,this.canvas=c,this.dragBox=u,this.cropBox=l,this.viewBox=s.querySelector(".".concat(Q,"-view-box")),this.face=h,c.appendChild(a),ht(r,bt),i.insertBefore(s,r.nextSibling),Ht(a,ji),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,ht(l,bt),n.guides||ht(l.getElementsByClassName("".concat(Q,"-dashed")),bt),n.center||ht(l.getElementsByClassName("".concat(Q,"-center")),bt),n.background&&ht(s,"".concat(Q,"-bg")),n.highlight||ht(h,mh),n.cropBoxMovable&&(ht(h,Mn),Cr(h,Sr,Kn)),n.cropBoxResizable||(ht(l.getElementsByClassName("".concat(Q,"-line")),bt),ht(l.getElementsByClassName("".concat(Q,"-point")),bt)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),yt(n.ready)&&Mt(r,Vi,n.ready,{once:!0}),Je(r,Vi)}}},{key:"unbuild",value:function(){if(!!this.ready){this.ready=!1,this.unbind(),this.resetPreview();var r=this.cropper.parentNode;r&&r.removeChild(this.cropper),Ht(this.element,bt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Kh,e}},{key:"setDefaults",value:function(r){et(Ui,We(r)&&r)}}]),e}();et(Zh.prototype,qh,Wh,Xh,Uh,Gh,Jh);function Qh(e){const{type:t="info",children:r,onClose:n}=e;return tt("div",{className:"otaku-message",children:[w("span",{className:`otaku-message-icon iconfont otaku-icon-${t}`}),w("span",{className:"otaku-message-content",children:r})]})}const tf=["info","success","warning","error"],Pd=tf.reduce((e,t)=>(e[t]=function(n,a=3e3){const i=new $o({rootStyle:{position:"fixed",top:"10px",left:"50%"}}),o=setTimeout(()=>{i.destory()},a);i.create({style:{"margin-top":"20px",transition:"all 0.3s linear"},content:w(Qh,{type:t,onClose:()=>{i.destory(),clearTimeout(o)},children:n})})},e),{});const Ha=at.createContext(null);function Ld(e){const{icon:t,children:r}=e,n=O.exports.useContext(Ha);return tt("li",{className:"otaku-bread-crumbs-item",children:[t&&w("span",{className:"otaku-bread-crumbs-icon",children:t}),w("span",{className:"otaku-bread-crumbs-content",children:r}),w("span",{className:"otaku-bread-crumbs-separator",children:n==null?void 0:n.separator})]})}function Yd(e){const{separator:t=w("span",{className:"iconfont otaku-icon-right"}),children:r}=e;return w(Ha.Provider,{value:{separator:t},children:w("ul",{className:"otaku-bread-crumbs",children:r})})}const Fa=at.createContext({current:0});function jd(e){const{id:t,name:r}=e,{current:n}=O.exports.useContext(Fa);return w("li",{className:mt("otaku-tab-pane",{"otaku-tab-pane-active":n===`${t}`}),"data-id":t,children:w("span",{"data-id":t,children:r})})}function Hd(e){const{center:t,active:r,onChange:n}=e,a=e.children?Array.isArray(e.children)?e.children:[e.children]:[],[i,o]=O.exports.useState(r),[s,c]=O.exports.useState();O.exports.useEffect(()=>{const l=a.findIndex(h=>h.props.id===r);l!==-1&&(c(a[l]),o(a[l].props.id))},[r,a]);const u=l=>{const h=wr(l.target,"id"),f=h==null?void 0:h.dataset.id;if(h){const v=a.findIndex(x=>`${x.props.id}`===f);v!==-1&&(i===a[v].props.id?(c(void 0),o(void 0),n==null||n({value:void 0,index:-1})):(c(a[v]),o(a[v].props.id),n==null||n({value:a[v].props.id,index:v})))}};return tt(Fa.Provider,{value:{current:`${i}`},children:[w("ul",{className:mt("otaku-tab",{"otaku-tab-center":t,"otaku-tab-active":i!==void 0}),role:"presentation",onClick:u,children:at.Children.map(a,l=>at.cloneElement(l,{...l.props}))}),w("aside",{className:"otaku-tab-content",children:s==null?void 0:s.props.children})]})}const za=at.createContext({target:document.body});function Fd(e){const{target:t=document.body,active:r,children:n}=e,[a,i]=O.exports.useState(r),o=u=>{if(typeof u=="string"){const l=document.querySelector(u);if(l)return l}return u};O.exports.useLayoutEffect(()=>{const u=o(t),l=at.Children.map(n,h=>{var v;const f=encodeURIComponent(h.props.href.substring(1));return{href:h.props.href,offsetTop:(v=document.getElementById(f))==null?void 0:v.offsetTop}});u.addEventListener("scroll",h=>{var v;const f=(v=h.target)==null?void 0:v.scrollTop;for(let x=l.length-1;x>=0;x--)f<=l[x].offsetTop&&i(l[x].href)})},[]),O.exports.useEffect(()=>{i(r)},[r]);const s=(u,l)=>{u.scrollTo({top:l.offsetTop,behavior:"smooth"})};return w("ul",{className:"otaku-anchor",onClick:u=>{const l=wr(u.target,"href");if(l){const h=l.dataset.href,f=encodeURIComponent(h.substring(1)),v=document.getElementById(f);s(o(t),v),i(h)}},children:w(za.Provider,{value:{active:a},children:n})})}function zd(e){const{href:t,title:r}=e,n=O.exports.useContext(za);return w("li",{"data-href":t,className:mt("otaku-anchor-item",{"otaku-anchor-item-active":n.active===t}),children:r})}const pe=typeof window<"u",Ba=pe&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Va=pe&&"IntersectionObserver"in window,qa=pe&&"classList"in document.createElement("p"),Wa=pe&&window.devicePixelRatio>1,ef={elements_selector:".lazy",container:Ba||pe?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},Xa=e=>Object.assign({},ef,e),Zi=function(e,t){let r;const n="LazyLoad::Initialized",a=new e(t);try{r=new CustomEvent(n,{detail:{instance:a}})}catch{r=document.createEvent("CustomEvent"),r.initCustomEvent(n,!1,!1,{instance:a})}window.dispatchEvent(r)},rf=(e,t)=>{if(!!t)if(!t.length)Zi(e,t);else for(let r=0,n;n=t[r];r+=1)Zi(e,n)},ee="src",ti="srcset",ei="sizes",Ua="poster",Or="llOriginalAttrs",Ga="data",ri="loading",Ja="loaded",Ka="applied",nf="entered",ni="error",Za="native",Qa="data-",to="ll-status",wt=(e,t)=>e.getAttribute(Qa+t),af=(e,t,r)=>{var n=Qa+t;if(r===null){e.removeAttribute(n);return}e.setAttribute(n,r)},$r=e=>wt(e,to),Ie=(e,t)=>af(e,to,t),Qr=e=>Ie(e,null),ii=e=>$r(e)===null,of=e=>$r(e)===ri,sf=e=>$r(e)===ni,ai=e=>$r(e)===Za,cf=[ri,Ja,Ka,ni],uf=e=>cf.indexOf($r(e))>=0,ve=(e,t,r,n)=>{if(!!e){if(n!==void 0){e(t,r,n);return}if(r!==void 0){e(t,r);return}e(t)}},rr=(e,t)=>{if(qa){e.classList.add(t);return}e.className+=(e.className?" ":"")+t},jt=(e,t)=>{if(qa){e.classList.remove(t);return}e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},lf=e=>{e.llTempImage=document.createElement("IMG")},hf=e=>{delete e.llTempImage},eo=e=>e.llTempImage,tn=(e,t)=>{if(!t)return;const r=t._observer;!r||r.unobserve(e)},ff=e=>{e.disconnect()},df=(e,t,r)=>{t.unobserve_entered&&tn(e,r)},oi=(e,t)=>{!e||(e.loadingCount+=t)},pf=e=>{!e||(e.toLoadCount-=1)},ro=(e,t)=>{!e||(e.toLoadCount=t)},vf=e=>e.loadingCount>0,gf=e=>e.toLoadCount>0,no=e=>{let t=[];for(let r=0,n;n=e.children[r];r+=1)n.tagName==="SOURCE"&&t.push(n);return t},si=(e,t)=>{const r=e.parentNode;if(!r||r.tagName!=="PICTURE")return;no(r).forEach(t)},io=(e,t)=>{no(e).forEach(t)},en=[ee],ao=[ee,Ua],Dr=[ee,ti,ei],oo=[Ga],rn=e=>!!e[Or],so=e=>e[Or],co=e=>delete e[Or],Ze=(e,t)=>{if(rn(e))return;const r={};t.forEach(n=>{r[n]=e.getAttribute(n)}),e[Or]=r},mf=e=>{rn(e)||(e[Or]={backgroundImage:e.style.backgroundImage})},yf=(e,t,r)=>{if(!r){e.removeAttribute(t);return}e.setAttribute(t,r)},Ae=(e,t)=>{if(!rn(e))return;const r=so(e);t.forEach(n=>{yf(e,n,r[n])})},bf=e=>{if(!rn(e))return;const t=so(e);e.style.backgroundImage=t.backgroundImage},uo=(e,t,r)=>{rr(e,t.class_applied),Ie(e,Ka),r&&(t.unobserve_completed&&tn(e,t),ve(t.callback_applied,e,r))},lo=(e,t,r)=>{rr(e,t.class_loading),Ie(e,ri),r&&(oi(r,1),ve(t.callback_loading,e,r))},de=(e,t,r)=>{!r||e.setAttribute(t,r)},Qi=(e,t)=>{de(e,ei,wt(e,t.data_sizes)),de(e,ti,wt(e,t.data_srcset)),de(e,ee,wt(e,t.data_src))},wf=(e,t)=>{si(e,r=>{Ze(r,Dr),Qi(r,t)}),Ze(e,Dr),Qi(e,t)},xf=(e,t)=>{Ze(e,en),de(e,ee,wt(e,t.data_src))},Ef=(e,t)=>{io(e,r=>{Ze(r,en),de(r,ee,wt(r,t.data_src))}),Ze(e,ao),de(e,Ua,wt(e,t.data_poster)),de(e,ee,wt(e,t.data_src)),e.load()},_f=(e,t)=>{Ze(e,oo),de(e,Ga,wt(e,t.data_src))},Sf=(e,t,r)=>{const n=wt(e,t.data_bg),a=wt(e,t.data_bg_hidpi),i=Wa&&a?a:n;!i||(e.style.backgroundImage=`url("${i}")`,eo(e).setAttribute(ee,i),lo(e,t,r))},Cf=(e,t,r)=>{const n=wt(e,t.data_bg_multi),a=wt(e,t.data_bg_multi_hidpi),i=Wa&&a?a:n;!i||(e.style.backgroundImage=i,uo(e,t,r))},Df=(e,t,r)=>{const n=wt(e,t.data_bg_set);if(!n)return;const a=n.split("|");let i=a.map(o=>`image-set(${o})`);e.style.backgroundImage=i.join(),e.style.backgroundImage===""&&(i=a.map(o=>`-webkit-image-set(${o})`),e.style.backgroundImage=i.join()),uo(e,t,r)},ho={IMG:wf,IFRAME:xf,VIDEO:Ef,OBJECT:_f},Mf=(e,t)=>{const r=ho[e.tagName];!r||r(e,t)},Of=(e,t,r)=>{const n=ho[e.tagName];!n||(n(e,t),lo(e,t,r))},$f=["IMG","IFRAME","VIDEO","OBJECT"],Tf=e=>$f.indexOf(e.tagName)>-1,fo=(e,t)=>{t&&!vf(t)&&!gf(t)&&ve(e.callback_finish,t)},ta=(e,t,r)=>{e.addEventListener(t,r),e.llEvLisnrs[t]=r},kf=(e,t,r)=>{e.removeEventListener(t,r)},ci=e=>!!e.llEvLisnrs,Af=(e,t,r)=>{ci(e)||(e.llEvLisnrs={});const n=e.tagName==="VIDEO"?"loadeddata":"load";ta(e,n,t),ta(e,"error",r)},In=e=>{if(!ci(e))return;const t=e.llEvLisnrs;for(let r in t){const n=t[r];kf(e,r,n)}delete e.llEvLisnrs},po=(e,t,r)=>{hf(e),oi(r,-1),pf(r),jt(e,t.class_loading),t.unobserve_completed&&tn(e,r)},Nf=(e,t,r,n)=>{const a=ai(t);po(t,r,n),rr(t,r.class_loaded),Ie(t,Ja),ve(r.callback_loaded,t,n),a||fo(r,n)},If=(e,t,r,n)=>{const a=ai(t);po(t,r,n),rr(t,r.class_error),Ie(t,ni),ve(r.callback_error,t,n),r.restore_on_error&&Ae(t,Dr),a||fo(r,n)},ui=(e,t,r)=>{const n=eo(e)||e;if(ci(n))return;Af(n,o=>{Nf(o,e,t,r),In(n)},o=>{If(o,e,t,r),In(n)})},Rf=(e,t,r)=>{lf(e),ui(e,t,r),mf(e),Sf(e,t,r),Cf(e,t,r),Df(e,t,r)},Pf=(e,t,r)=>{ui(e,t,r),Of(e,t,r)},li=(e,t,r)=>{Tf(e)?Pf(e,t,r):Rf(e,t,r)},Lf=(e,t,r)=>{e.setAttribute("loading","lazy"),ui(e,t,r),Mf(e,t),Ie(e,Za)},ea=e=>{e.removeAttribute(ee),e.removeAttribute(ti),e.removeAttribute(ei)},Yf=e=>{si(e,t=>{ea(t)}),ea(e)},vo=e=>{si(e,t=>{Ae(t,Dr)}),Ae(e,Dr)},jf=e=>{io(e,t=>{Ae(t,en)}),Ae(e,ao),e.load()},Hf=e=>{Ae(e,en)},Ff=e=>{Ae(e,oo)},zf={IMG:vo,IFRAME:Hf,VIDEO:jf,OBJECT:Ff},Bf=e=>{const t=zf[e.tagName];if(!t){bf(e);return}t(e)},Vf=(e,t)=>{ii(e)||ai(e)||(jt(e,t.class_entered),jt(e,t.class_exited),jt(e,t.class_applied),jt(e,t.class_loading),jt(e,t.class_loaded),jt(e,t.class_error))},qf=(e,t)=>{Bf(e),Vf(e,t),Qr(e),co(e)},Wf=(e,t,r,n)=>{!r.cancel_on_exit||!of(e)||e.tagName==="IMG"&&(In(e),Yf(e),vo(e),jt(e,r.class_loading),oi(n,-1),Qr(e),ve(r.callback_cancel,e,t,n))},Xf=(e,t,r,n)=>{const a=uf(e);Ie(e,nf),rr(e,r.class_entered),jt(e,r.class_exited),df(e,r,n),ve(r.callback_enter,e,t,n),!a&&li(e,r,n)},Uf=(e,t,r,n)=>{ii(e)||(rr(e,r.class_exited),Wf(e,t,r,n),ve(r.callback_exit,e,t,n))},Gf=["IMG","IFRAME","VIDEO"],go=e=>e.use_native&&"loading"in HTMLImageElement.prototype,Jf=(e,t,r)=>{e.forEach(n=>{Gf.indexOf(n.tagName)!==-1&&Lf(n,t,r)}),ro(r,0)},Kf=e=>e.isIntersecting||e.intersectionRatio>0,Zf=e=>({root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),Qf=(e,t,r)=>{e.forEach(n=>Kf(n)?Xf(n.target,n,t,r):Uf(n.target,n,t,r))},td=(e,t)=>{t.forEach(r=>{e.observe(r)})},ed=(e,t)=>{ff(e),td(e,t)},rd=(e,t)=>{!Va||go(e)||(t._observer=new IntersectionObserver(r=>{Qf(r,e,t)},Zf(e)))},mo=e=>Array.prototype.slice.call(e),Wr=e=>e.container.querySelectorAll(e.elements_selector),nd=e=>mo(e).filter(ii),id=e=>sf(e),ad=e=>mo(e).filter(id),ra=(e,t)=>nd(e||Wr(t)),od=(e,t)=>{ad(Wr(e)).forEach(n=>{jt(n,e.class_error),Qr(n)}),t.update()},sd=(e,t)=>{!pe||(t._onlineHandler=()=>{od(e,t)},window.addEventListener("online",t._onlineHandler))},cd=e=>{!pe||window.removeEventListener("online",e._onlineHandler)},nn=function(e,t){const r=Xa(e);this._settings=r,this.loadingCount=0,rd(r,this),sd(r,this),this.update(t)};nn.prototype={update:function(e){const t=this._settings,r=ra(e,t);if(ro(this,r.length),Ba||!Va){this.loadAll(r);return}if(go(t)){Jf(r,t,this);return}ed(this._observer,r)},destroy:function(){this._observer&&this._observer.disconnect(),cd(this),Wr(this._settings).forEach(e=>{co(e)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){const t=this._settings;ra(e,t).forEach(n=>{tn(n,this),li(n,t,this)})},restoreAll:function(){const e=this._settings;Wr(e).forEach(t=>{qf(t,e)})}};nn.load=(e,t)=>{const r=Xa(t);li(e,r)};nn.resetStatus=e=>{Qr(e)};pe&&rf(nn,window.lazyLoadOptions);function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ct.apply(this,arguments)}function an(e,t){if(e==null)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(a[r]=e[r]);return a}function Te(e){var t=O.exports.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var r=Object.create(null);Object.keys(e).forEach(function(n){r[n]=function(){var a;return(a=t.fn[n]).call.apply(a,[t.fn].concat([].slice.call(arguments)))}}),t.curr=r}return t.curr}function Xr(e){return O.exports.useReducer(function(t,r){return ct({},t,typeof r=="function"?r(t):r)},e)}var yo=O.exports.createContext(void 0),te=typeof window<"u"&&"ontouchstart"in window,Rn=function(e,t,r){return Math.max(Math.min(e,r),t)},zr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),Rn(e,1*(1-r),Math.max(6,t)*(1+r))},Pn=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?O.exports.useEffect:O.exports.useLayoutEffect;function qe(e,t,r){var n=O.exports.useRef(t);n.current=t,O.exports.useEffect(function(){function a(i){n.current(i)}return e&&window.addEventListener(e,a,r),function(){e&&window.removeEventListener(e,a)}},[e])}var ud=["container"];function ld(e){var t=e.container,r=t===void 0?document.body:t,n=an(e,ud);return oa.exports.createPortal(w("div",{...ct({},n)}),r)}function hd(e){return w("svg",{...ct({width:"44",height:"44",viewBox:"0 0 768 768"},e),children:w("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"})})}function fd(e){return w("svg",{...ct({width:"44",height:"44",viewBox:"0 0 768 768"},e),children:w("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"})})}function dd(e){return w("svg",{...ct({width:"44",height:"44",viewBox:"0 0 768 768"},e),children:w("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"})})}function pd(){return O.exports.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function na(e){var t=e.touches[0],r=t.clientX,n=t.clientY;if(e.touches.length>=2){var a=e.touches[1],i=a.clientX,o=a.clientY;return[(r+i)/2,(n+o)/2,Math.sqrt(Math.pow(i-r,2)+Math.pow(o-n,2))]}return[r,n,0]}var le=function(e,t,r,n){var a=r*t,i=(a-n)/2,o=void 0,s=e;return a<=n?(o=1,s=0):e>0&&i-e<=0?(o=2,s=i):e<0&&i+e<=0&&(o=3,s=-i),[o,s]};function fn(e,t,r,n,a,i,o,s,c,u){o===void 0&&(o=innerWidth/2),s===void 0&&(s=innerHeight/2),c===void 0&&(c=0),u===void 0&&(u=0);var l=le(e,i,r,innerWidth)[0],h=le(t,i,n,innerHeight),f=innerWidth/2,v=innerHeight/2;return{x:o-i/a*(o-(f+e))-f+(n/r>=3&&r*i===innerWidth?0:l?c/2:c),y:s-i/a*(s-(v+t))-v+(h[0]?u/2:u),lastCX:o,lastCY:s}}function Ln(e,t,r){var n=e%180!=0;return n?[r,t,n]:[t,r,n]}function dn(e,t,r){var n=Ln(r,innerWidth,innerHeight),a=n[0],i=n[1],o=0,s=a,c=i,u=e/t*i,l=t/e*a;return e<a&&t<i?(s=e,c=t):e<a&&t>=i?s=u:e>=a&&t<i||e/t>a/i?c=l:t/e>=3&&!n[2]?o=((c=l)-i)/2:s=u,{width:s,height:c,x:0,y:o,pause:!0}}function Br(e,t){var r=t.leading,n=r!==void 0&&r,a=t.maxWait,i=t.wait,o=i===void 0?a||0:i,s=O.exports.useRef(e);s.current=e;var c=O.exports.useRef(0),u=O.exports.useRef(),l=function(){return u.current&&clearTimeout(u.current)},h=O.exports.useCallback(function(){var f=[].slice.call(arguments),v=Date.now();function x(){c.current=v,l(),s.current.apply(null,f)}var p=c.current,S=v-p;if(p===0&&(n&&x(),c.current=v),a!==void 0){if(S>a)return void x()}else S<o&&(c.current=v);l(),u.current=setTimeout(function(){x(),c.current=0},o)},[o,a,n]);return h.cancel=l,h}var ia=function(e,t,r){return Me(e,t,r,100,function(n){return n},function(){return Me(t,e,r)})},vd=function(e){return 1-Math.pow(1-e,4)};function Me(e,t,r,n,a,i){n===void 0&&(n=400),a===void 0&&(a=vd);var o=t-e;if(o!==0){var s=Date.now(),c=0,u=function(){var h=Math.min(1,(Date.now()-s)/n);r(e+a(h)*o)&&h<1?l():(cancelAnimationFrame(c),h>=1&&i&&i())};l()}function l(){c=requestAnimationFrame(u)}}var gd={T:0,L:0,W:0,H:0,FIT:void 0},bo=function(){var e=O.exports.useRef(!1);return O.exports.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},md=["className"];function yd(e){var t=e.className,r=an(e,md);return w("div",{...ct({className:"PhotoView__Spinner "+t},r),children:tt("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white",children:[w("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),w("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})]})})}var bd=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function wd(e){var t=e.src,r=e.loaded,n=e.broken,a=e.className,i=e.onPhotoLoad,o=e.loadingElement,s=e.brokenElement,c=an(e,bd),u=bo();return t&&!n?at.createElement(at.Fragment,null,w("img",{...ct({className:"PhotoView__Photo"+(a?" "+a:""),src:t,onLoad:function(l){var h=l.target;u.current&&i({loaded:!0,naturalWidth:h.naturalWidth,naturalHeight:h.naturalHeight})},onError:function(){u.current&&i({broken:!0})},alt:""},c)}),!r&&(w("span",{className:"PhotoView__icon",children:o})||w(yd,{className:"PhotoView__icon"}))):s?w("span",{className:"PhotoView__icon",children:typeof s=="function"?s({src:t}):s}):null}var xd={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function Ed(e){var t=e.item,r=t.src,n=t.render,a=t.width,i=a===void 0?0:a,o=t.height,s=o===void 0?0:o,c=t.originRef,u=e.visible,l=e.speed,h=e.easing,f=e.wrapClassName,v=e.className,x=e.style,p=e.loadingElement,S=e.brokenElement,g=e.onPhotoTap,C=e.onMaskTap,E=e.onReachMove,A=e.onReachUp,I=e.onPhotoResize,d=e.isActive,D=e.expose,R=Xr(xd),_=R[0],T=R[1],V=O.exports.useRef(0),F=bo(),$=_.naturalWidth,b=$===void 0?i:$,m=_.naturalHeight,k=m===void 0?s:m,M=_.width,N=M===void 0?i:M,P=_.height,j=P===void 0?s:P,X=_.loaded,q=X===void 0?!r:X,U=_.broken,nt=_.x,it=_.y,ft=_.touched,zt=_.stopRaf,pt=_.maskTouched,G=_.rotate,J=_.scale,re=_.CX,Ot=_.CY,ge=_.lastX,nr=_.lastY,Z=_.lastCX,Tr=_.lastCY,Bt=_.lastScale,me=_.touchTime,Re=_.touchLength,$t=_.pause,ye=_.reach,ir=Te({onScale:function(y){return Vt(zr(y))},onRotate:function(y){G!==y&&(D({rotate:y}),T(ct({rotate:y},dn(b,k,y))))}});function Vt(y,Y,W){J!==y&&(D({scale:y}),T(ct({scale:y},fn(nt,it,N,j,J,y,Y,W),y<=1&&{x:0,y:0})))}var kr=Br(function(y,Y,W){if(W===void 0&&(W=0),(ft||pt)&&d){var be=Ln(G,N,j),qt=be[0],Tt=be[1];if(W===0&&V.current===0){var dt=Math.abs(y-re)<=20,Et=Math.abs(Y-Ot)<=20;if(dt&&Et)return void T({lastCX:y,lastCY:Y});V.current=dt?Y>Ot?3:2:1}var we=y-Z,xe=Y-Tr,kt=void 0;if(W===0){var Ee=le(we+ge,J,qt,innerWidth)[0],Ye=le(xe+nr,J,Tt,innerHeight);kt=function(ae,Xt,Ut,Lt){return Xt&&ae===1||Lt==="x"?"x":Ut&&ae>1||Lt==="y"?"y":void 0}(V.current,Ee,Ye[0],ye),kt!==void 0&&E(kt,y,Y,J)}if(kt==="x"||pt)return void T({reach:"x"});var Wt=zr(J+(W-Re)/100/2*J,b/N,.2);D({scale:Wt}),T(ct({touchLength:W,reach:kt,scale:Wt},fn(nt,it,N,j,J,Wt,y,Y,we,xe)))}},{maxWait:8});function ar(y){return!zt&&!ft&&(F.current&&T(ct({},y,{pause:u})),F.current)}var ne,Rt,ie,or,Ar,Nr,Ir,xt,Rr=(Ar=function(y){return ar({x:y})},Nr=function(y){return ar({y})},Ir=function(y){return F.current&&(D({scale:y}),T({scale:y})),!ft&&F.current},xt=Te({X:function(y){return Ar(y)},Y:function(y){return Nr(y)},S:function(y){return Ir(y)}}),function(y,Y,W,be,qt,Tt,dt,Et,we,xe,kt){var Ee=Ln(xe,qt,Tt),Ye=Ee[0],Wt=Ee[1],ae=le(y,Et,Ye,innerWidth),Xt=ae[0],Ut=ae[1],Lt=le(Y,Et,Wt,innerHeight),je=Lt[0],Lr=Lt[1],He=Date.now()-kt;if(He>=200||Et!=dt||Math.abs(we-dt)>1){var oe=fn(y,Y,qt,Tt,dt,Et),Gt=oe.x,_e=oe.y,St=Xt?Ut:Gt!==y?Gt:null,Fe=je?Lr:_e!==Y?_e:null;return St!==null&&Me(y,St,xt.X),Fe!==null&&Me(Y,Fe,xt.Y),void(Et!=dt&&Me(dt,Et,xt.S))}var Se=(y-W)/He,se=(Y-be)/He,ce=Math.sqrt(Math.pow(Se,2)+Math.pow(se,2)),Jt=!1,Kt=!1;(function(At,vt){var gt=At,Zt=0,Nt=void 0,Ct=0,ze=function(cr){Nt||(Nt=cr);var ur=cr-Nt,hi=Math.sign(At),fi=-.001*hi,di=Math.sign(-gt)*Math.pow(gt,2)*2e-4,wo=gt*ur+(fi+di)*Math.pow(ur,2)/2;Zt+=wo,Nt=cr,hi*(gt+=(fi+di)*ur)<=0?Dt():vt(Zt)?Yt():Dt()};function Yt(){Ct=requestAnimationFrame(ze)}function Dt(){cancelAnimationFrame(Ct)}Yt()})(ce,function(At){var vt=y+At*(Se/ce),gt=Y+At*(se/ce),Zt=le(vt,dt,Ye,innerWidth),Nt=Zt[0],Ct=Zt[1],ze=le(gt,dt,Wt,innerHeight),Yt=ze[0],Dt=ze[1];if(Nt&&!Jt&&(Jt=!0,Xt?Me(vt,Ct,xt.X):ia(Ct,vt+(vt-Ct),xt.X)),Yt&&!Kt&&(Kt=!0,je?Me(gt,Dt,xt.Y):ia(Dt,gt+(gt-Dt),xt.Y)),Jt&&Kt)return!1;var cr=Jt||xt.X(Ct),ur=Kt||xt.Y(Dt);return cr&&ur})}),Pe=(ne=g,Rt=function(y,Y){ye||Vt(J!==1?1:Math.max(2,b/N),y,Y)},ie=O.exports.useRef(0),or=Br(function(){ie.current=0,ne.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var y=[].slice.call(arguments);ie.current+=1,or.apply(void 0,y),ie.current>=2&&(or.cancel(),ie.current=0,Rt.apply(void 0,y))});function Le(y,Y){if(V.current=0,(ft||pt)&&d){T({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var W=zr(J,b/N);if(Rr(nt,it,ge,nr,N,j,J,W,Bt,G,me),A(y,Y),re===y&&Ot===Y){if(ft)return void Pe(y,Y);pt&&C(y,Y)}}}function sr(y,Y,W){W===void 0&&(W=0),T({touched:!0,CX:y,CY:Y,lastCX:y,lastCY:Y,lastX:nt,lastY:it,lastScale:J,touchLength:W,touchTime:Date.now()})}function Pr(y){T({maskTouched:!0,CX:y.clientX,CY:y.clientY,lastX:nt,lastY:it})}qe(te?void 0:"mousemove",function(y){y.preventDefault(),kr(y.clientX,y.clientY)}),qe(te?void 0:"mouseup",function(y){Le(y.clientX,y.clientY)}),qe(te?"touchmove":void 0,function(y){y.preventDefault();var Y=na(y);kr.apply(void 0,Y)},{passive:!1}),qe(te?"touchend":void 0,function(y){var Y=y.changedTouches[0];Le(Y.clientX,Y.clientY)},{passive:!1}),qe("resize",Br(function(){q&&!ft&&(T(dn(b,k,G)),I())},{maxWait:8})),Pn(function(){d&&D(ct({scale:J,rotate:G},ir))},[d]);var Pt=function(y,Y,W,be,qt,Tt,dt,Et,we,xe){var kt=function(Gt,_e,St,Fe,Se){var se=O.exports.useRef(!1),ce=Xr({lead:!0,scale:St}),Jt=ce[0],Kt=Jt.lead,At=Jt.scale,vt=ce[1],gt=Br(function(Zt){try{return Se(!0),vt({lead:!1,scale:Zt}),Promise.resolve()}catch(Nt){return Promise.reject(Nt)}},{wait:Fe});return Pn(function(){se.current?(Se(!1),vt({lead:!0}),gt(St)):se.current=!0},[St]),Kt?[Gt*At,_e*At,St/At]:[Gt*St,_e*St,1]}(Tt,dt,Et,we,xe),Ee=kt[0],Ye=kt[1],Wt=kt[2],ae=function(Gt,_e,St,Fe,Se){var se=O.exports.useState(gd),ce=se[0],Jt=se[1],Kt=O.exports.useState(0),At=Kt[0],vt=Kt[1],gt=O.exports.useRef(),Zt=Te({OK:function(){return Gt&&vt(4)}});function Nt(Ct){Se(!1),vt(Ct)}return O.exports.useEffect(function(){if(gt.current||(gt.current=Date.now()),St){if(function(Ct,ze){var Yt=Ct&&Ct.current;if(Yt&&Yt.nodeType===1){var Dt=Yt.getBoundingClientRect();ze({T:Dt.top,L:Dt.left,W:Dt.width,H:Dt.height,FIT:Yt.tagName==="IMG"?getComputedStyle(Yt).objectFit:void 0})}}(_e,Jt),Gt)return Date.now()-gt.current<250?(vt(1),requestAnimationFrame(function(){vt(2),requestAnimationFrame(function(){return Nt(3)})}),void setTimeout(Zt.OK,Fe)):void vt(4);Nt(5)}},[Gt,St]),[At,ce]}(y,Y,W,we,xe),Xt=ae[0],Ut=ae[1],Lt=Ut.W,je=Ut.FIT,Lr=innerWidth/2,He=innerHeight/2,oe=Xt<3||Xt>4;return[oe?Lt?Ut.L:Lr:be+(Lr-Tt*Et/2),oe?Lt?Ut.T:He:qt+(He-dt*Et/2),Ee,oe&&je?Ee*(Ut.H/Lt):Ye,Xt===0?Wt:oe?Lt/(Tt*Et)||.01:Wt,oe?je?1:0:1,Xt,je]}(u,c,q,nt,it,N,j,J,l,function(y){return T({pause:y})}),H=Pt[4],K=Pt[6],lt="transform "+l+"ms "+h,ot={className:v,onMouseDown:te?void 0:function(y){y.stopPropagation(),y.button===0&&sr(y.clientX,y.clientY,0)},onTouchStart:te?function(y){y.stopPropagation(),sr.apply(void 0,na(y))}:void 0,onWheel:function(y){if(!ye){var Y=zr(J-y.deltaY/100/2,b/N);T({stopRaf:!0}),Vt(Y,y.clientX,y.clientY)}},style:{width:Pt[2],height:Pt[3],opacity:Pt[5],objectFit:K===4?void 0:Pt[7],transform:G?"rotate("+G+"deg)":void 0,transition:K>2?lt+", opacity "+l+"ms ease, height "+(K<4?l/2:K>4?l:0)+"ms "+h:void 0}};return w("div",{className:"PhotoView__PhotoWrap"+(f?" "+f:""),style:x,onMouseDown:!te&&d?Pr:void 0,onTouchStart:te&&d?function(y){return Pr(y.touches[0])}:void 0,children:w("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+H+", 0, 0, "+H+", "+Pt[0]+", "+Pt[1]+")",transition:ft||$t?void 0:lt,willChange:d?"transform":void 0},children:r?w(wd,{...ct({src:r,loaded:q,broken:U},ot,{onPhotoLoad:function(y){T(ct({},y,y.loaded&&dn(y.naturalWidth||0,y.naturalHeight||0,G)))},loadingElement:p,brokenElement:S})}):n&&n({attrs:ot,scale:H,rotate:G})})})}var aa={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function _d(e){var t=e.loop,r=t===void 0?3:t,n=e.speed,a=e.easing,i=e.photoClosable,o=e.maskClosable,s=o===void 0||o,c=e.maskOpacity,u=c===void 0?1:c,l=e.pullClosable,h=l===void 0||l,f=e.bannerVisible,v=f===void 0||f,x=e.overlayRender,p=e.toolbarRender,S=e.className,g=e.maskClassName,C=e.photoClassName,E=e.photoWrapClassName,A=e.loadingElement,I=e.brokenElement,d=e.images,D=e.index,R=D===void 0?0:D,_=e.onIndexChange,T=e.visible,V=e.onClose,F=e.afterClose,$=e.portalContainer,b=Xr(aa),m=b[0],k=b[1],M=O.exports.useState(0),N=M[0],P=M[1],j=m.x,X=m.touched,q=m.pause,U=m.lastCX,nt=m.lastCY,it=m.bg,ft=it===void 0?u:it,zt=m.lastBg,pt=m.overlay,G=m.minimal,J=m.scale,re=m.rotate,Ot=m.onScale,ge=m.onRotate,nr=e.hasOwnProperty("index"),Z=nr?R:N,Tr=nr?_:P,Bt=O.exports.useRef(Z),me=d.length,Re=d[Z],$t=typeof r=="boolean"?r:me>r,ye=function(H,K){var lt=O.exports.useReducer(function(W){return!W},!1)[1],ot=O.exports.useRef(0),y=function(W,be){var qt=O.exports.useRef(W);function Tt(dt){qt.current=dt}return O.exports.useMemo(function(){(function(dt){H?(dt(H),ot.current=1):ot.current=2})(Tt)},[W]),[qt.current,Tt]}(H),Y=y[1];return[y[0],ot.current,function(){lt(),ot.current===2&&(Y(!1),K&&K()),ot.current=0}]}(T,F),ir=ye[0],Vt=ye[1],kr=ye[2];Pn(function(){if(ir)return k({pause:!0,x:Z*-(innerWidth+20)}),void(Bt.current=Z);k(aa)},[ir]);var ar=Te({close:function(H){ge&&ge(0),k({overlay:!0,lastBg:ft}),V(H)},changeIndex:function(H,K){K===void 0&&(K=!1);var lt=$t?Bt.current+(H-Z):H,ot=me-1,y=Rn(lt,0,ot),Y=$t?lt:y,W=innerWidth+20;k({touched:!1,lastCX:void 0,lastCY:void 0,x:-W*Y,pause:K}),Bt.current=Y,Tr&&Tr($t?H<0?ot:H>ot?0:H:y)}}),ne=ar.close,Rt=ar.changeIndex;function ie(H){return H?ne():k({overlay:!pt})}function or(){k({x:-(innerWidth+20)*Z,lastCX:void 0,lastCY:void 0,pause:!0}),Bt.current=Z}function Ar(H,K,lt,ot){H==="x"?function(y){if(U!==void 0){var Y=y-U,W=Y;!$t&&(Z===0&&Y>0||Z===me-1&&Y<0)&&(W=Y/2),k({touched:!0,lastCX:U,x:-(innerWidth+20)*Bt.current+W,pause:!1})}else k({touched:!0,lastCX:y,x:j,pause:!1})}(K):H==="y"&&function(y,Y){if(nt!==void 0){var W=u===null?null:Rn(u,.01,u-Math.abs(y-nt)/100/4);k({touched:!0,lastCY:nt,bg:Y===1?W:u,minimal:Y===1})}else k({touched:!0,lastCY:y,bg:ft,minimal:!0})}(lt,ot)}function Nr(H,K){var lt=H-(U!=null?U:H),ot=K-(nt!=null?nt:K),y=!1;if(lt<-40)Rt(Z+1);else if(lt>40)Rt(Z-1);else{var Y=-(innerWidth+20)*Bt.current;Math.abs(ot)>100&&G&&h&&(y=!0,ne()),k({touched:!1,x:Y,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!y||pt})}}qe("keydown",function(H){if(T)switch(H.key){case"ArrowLeft":Rt(Z-1,!0);break;case"ArrowRight":Rt(Z+1,!0);break;case"Escape":ne()}});var Ir=function(H,K,lt){return O.exports.useMemo(function(){var ot=H.length;return lt?H.concat(H).concat(H).slice(ot+K-1,ot+K+2):H.slice(Math.max(K-1,0),Math.min(K+2,ot+1))},[H,K,lt])}(d,Z,$t);if(!ir)return null;var xt=pt&&!Vt,Rr=T?ft:zt,Pe=Ot&&ge&&{images:d,index:Z,visible:T,onClose:ne,onIndexChange:Rt,overlayVisible:xt,overlay:Re&&Re.overlay,scale:J,rotate:re,onScale:Ot,onRotate:ge},Le=n?n(Vt):400,sr=a?a(Vt):"cubic-bezier(0.25, 0.8, 0.25, 1)",Pr=n?n(3):600,Pt=a?a(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return at.createElement(ld,{className:"PhotoView-Portal"+(xt?"":" PhotoView-Slider__clean")+(T?"":" PhotoView-Slider__willClose")+(S?" "+S:""),role:"dialog",onClick:function(H){return H.stopPropagation()},container:$},T&&w(pd,{}),w("div",{className:"PhotoView-Slider__Backdrop"+(g?" "+g:"")+(Vt===1?" PhotoView-Slider__fadeIn":Vt===2?" PhotoView-Slider__fadeOut":""),style:{background:Rr?"rgba(0, 0, 0, "+Rr+")":void 0,transitionTimingFunction:sr,transitionDuration:(X?0:Le)+"ms",animationDuration:Le+"ms"},onAnimationEnd:kr}),v&&tt("div",{className:"PhotoView-Slider__BannerWrap",children:[tt("div",{className:"PhotoView-Slider__Counter",children:[Z+1," / ",me]}),tt("div",{className:"PhotoView-Slider__BannerRight",children:[p&&Pe&&p(Pe),w(hd,{className:"PhotoView-Slider__toolbarIcon",onClick:ne})]})]}),Ir.map(function(H,K){var lt=$t||Z!==0?Bt.current-1+K:Z+K;return at.createElement(Ed,{key:$t?H.key+"/"+H.src+"/"+lt:H.key,item:H,speed:Le,easing:sr,visible:T,onReachMove:Ar,onReachUp:Nr,onPhotoTap:function(){return ie(i)},onMaskTap:function(){return ie(s)},wrapClassName:E,className:C,style:{left:(innerWidth+20)*lt+"px",transform:"translate3d("+j+"px, 0px, 0)",transition:X||q?void 0:"transform "+Pr+"ms "+Pt},loadingElement:A,brokenElement:I,onPhotoResize:or,isActive:(Re&&Re.key)===H.key,expose:k})}),!te&&v&&at.createElement(at.Fragment,null,($t||Z!==0)&&at.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Rt(Z-1,!0)}},at.createElement(fd,null)),($t||Z+1<me)&&w("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Rt(Z+1,!0)},children:w(dd,{})})),x&&Pe&&w("div",{className:"PhotoView-Slider__Overlay",children:x(Pe)}))}var Sd=["children","onIndexChange","onVisibleChange"],Cd={images:[],visible:!1,index:0};function Bd(e){var t=e.children,r=e.onIndexChange,n=e.onVisibleChange,a=an(e,Sd),i=Xr(Cd),o=i[0],s=i[1],c=O.exports.useRef(0),u=o.images,l=o.visible,h=o.index,f=Te({nextId:function(){return c.current+=1},update:function(p){var S=u.findIndex(function(C){return C.key===p.key});if(S>-1){var g=u.slice();return g.splice(S,1,p),void s({images:g})}s(function(C){return{images:C.images.concat(p)}})},remove:function(p){s(function(S){var g=S.images.filter(function(C){return C.key!==p});return{images:g,index:Math.min(g.length-1,h)}})},show:function(p){var S=u.findIndex(function(g){return g.key===p});s({visible:!0,index:S}),n&&n(!0,S,o)}}),v=Te({close:function(){s({visible:!1}),n&&n(!1,h,o)},changeIndex:function(p){s({index:p}),r&&r(p,o)}}),x=O.exports.useMemo(function(){return ct({},o,f)},[o,f]);return at.createElement(yo.Provider,{value:x},t,w(_d,{...ct({images:u,visible:l,index:h,onIndexChange:v.changeIndex,onClose:v.close},a)}))}var Vd=function(e){var t,r,n=e.src,a=e.render,i=e.overlay,o=e.width,s=e.height,c=e.triggers,u=c===void 0?["onClick"]:c,l=e.children,h=O.exports.useContext(yo),f=(t=function(){return h.nextId()},(r=O.exports.useRef({sign:!1,fn:void 0}).current).sign||(r.sign=!0,r.fn=t()),r.fn),v=O.exports.useRef(null);O.exports.useEffect(function(){return function(){h.remove(f)}},[]);var x=Te({render:function(S){return a&&a(S)},show:function(S,g){h.show(f),function(C,E){if(l){var A=l.props[C];A&&A(E)}}(S,g)}}),p=O.exports.useMemo(function(){var S={};return u.forEach(function(g){S[g]=x.show.bind(null,g)}),S},[]);return O.exports.useEffect(function(){h.update({key:f,src:n,originRef:v,render:x.render,overlay:i,width:o,height:s})},[n]),l?O.exports.Children.only(O.exports.cloneElement(l,ct({},p,{ref:v}))):null};export{Fd as A,Yd as B,L as C,Co as D,ko as E,wr as F,$d as G,Id as H,Yn as I,Od as J,Bd as K,Zh as L,Do as M,$o as N,vs as O,ch as P,Vd as Q,Ro as R,Io as S,Hd as T,xi as U,Ao as V,gs as W,To as X,Oo as Y,Hn as _,zd as a,jd as b,mt as c,kc as d,da as e,Dc as f,ys as g,Sc as h,pa as i,qs as j,Ou as k,Au as l,Pd as m,il as n,Fn as o,Ec as p,zn as q,tc as r,kd as s,Nd as t,Ad as u,Ld as v,No as w,uh as x,Rd as y,Td as z};
