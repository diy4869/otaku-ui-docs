{"version":3,"file":"js/node_modules_typescript_vfs_dist_sync_recursive-src_components_api_api_tsx-src_components_blo-f41792.e4c1d530e316cfa233ef.js","mappings":"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","sources":["webpack://otaku-site/../../node_modules/@typescript/vfs/dist|sync","webpack://otaku-site/./src/components/api/style.scss?8c86","webpack://otaku-site/./src/components/block/style.scss?1404","webpack://otaku-site/./src/components/codeExample/style.scss?c0c9","webpack://otaku-site/./src/components/editor/style.scss?5352","webpack://otaku-site/./src/components/api/api.tsx","webpack://otaku-site/./src/components/block/block.tsx","webpack://otaku-site/./src/components/codeExample/codeExample.tsx","webpack://otaku-site/./src/components/editor/editor.tsx","webpack://otaku-site/./node_modules/typescript/lib|sync","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\node_modules\\@typescript\\vfs\\dist|typescript","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\packages\\site\\node_modules\\typescript\\lib|buffer","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\packages\\site\\node_modules\\typescript\\lib|crypto","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\packages\\site\\node_modules\\typescript\\lib|fs","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\packages\\site\\node_modules\\typescript\\lib|inspector","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\packages\\site\\node_modules\\typescript\\lib|os","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\packages\\site\\node_modules\\typescript\\lib|path","webpack://otaku-site/ignored|D:\\project\\otaku-ui\\packages\\site\\node_modules\\typescript\\lib|source-map-support"],"sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../node_modules/@typescript/vfs/dist sync recursive\";\nmodule.exports = webpackEmptyContext;","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","import React, { useState } from 'react'\r\nimport {Tab, TabPane, HighlightCode, Table} from 'otaku-ui'\r\nimport './style.scss'\r\nimport json5 from 'json5'\r\n\r\ninterface ApiProps {\r\n  code: string\r\n  data: string\r\n}\r\n\r\ninterface ApiData {\r\n  name: string\r\n  data: Record<string, unknown>[]\r\n}\r\n\r\nexport function Api (props: ApiProps) {\r\n\r\n  const { code, data } = props\r\n\r\n  // const string = data.replace('(\\\\)\\g' , '')\r\n\r\n  const evalData: ApiData[] = json5.parse(data)\r\n\r\n  console.log(evalData)\r\n\r\n  const tableColumn = [\r\n    {\r\n      label: '属性',\r\n      prop: 'name',\r\n    },\r\n    {\r\n      label: '是否必填',\r\n      prop: 'required',\r\n      render(data: { row: any }) {\r\n        const {row} = data\r\n\r\n        return <span>{row.require ? '是' : '否'}</span>\r\n      },\r\n    },\r\n    {\r\n      label: '类型',\r\n      prop: 'type',\r\n    },\r\n    {\r\n      label: '默认值',\r\n      prop: 'defaultValue',\r\n      defaultValue: '',\r\n    },\r\n    {\r\n      label: '描述',\r\n      prop: 'desc',\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <aside className='otaku-api-container'>\r\n      <Tab active={0}>\r\n        <TabPane name='类型定义' id={0}>\r\n          <HighlightCode lang={'ts'} code={code}></HighlightCode>\r\n        </TabPane>\r\n        <TabPane name='API' id={1}>\r\n          {\r\n            evalData?.map((item, index) => {\r\n              return (\r\n                <section key={index}>\r\n                  <h2>{item.name}</h2>\r\n                  <Table data={item.data} tableColumn={tableColumn}></Table>\r\n                </section>\r\n              )\r\n            })\r\n          }\r\n        </TabPane>\r\n      </Tab>\r\n    </aside>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\n\r\ninterface Props {\r\n  children: string\r\n}\r\n\r\nexport default (props: Props) => {\r\n  console.log(props)\r\n  return (\r\n    <div className=\"otaku-block-container\">\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useRef } from 'react'\r\nimport { HighlightCode, HighlightCodeProps, Icon, Tab, TabPane, message } from 'otaku-ui'\r\nimport * as copy from 'copy-to-clipboard'\r\nimport { Editor } from '../editor/editor'\r\nimport { Tooltip } from 'otaku-ui'\r\nimport { VShow } from 'otaku-ui/src/directive/vShow'\r\nimport { ErrorBoundary } from '../ErrorBoundary/ErrorBoundary'\r\nimport classnames from 'classnames'\r\nimport './style.scss'\r\n\r\ninterface Example extends HighlightCodeProps {\r\n  desc: string\r\n  style: {\r\n    lang: string\r\n    code: string\r\n  }\r\n  example: React.ReactNode\r\n}\r\n\r\n\r\nexport function CodeExample (props: Example) {\r\n  const { code, style, desc, example, lang = 'typescript' } = props\r\n\r\n  const container = useRef(null)\r\n  const [showEdit, setShowEdit] = useState(true)\r\n  let [collapse, setCollapse] = useState(false)\r\n  let [currentIndex, setCurrentIndex] = useState(undefined)\r\n  \r\n  const [data] = useState([\r\n    {\r\n      code,\r\n      lang\r\n    },\r\n    style\r\n  ])\r\n\r\n  const edit = () => {\r\n    \r\n    // console.log(instance)\r\n    // if (!instance) {\r\n    //   const editorInstance = monaco.editor.create(container.current!, {\r\n    //     value: code,\r\n    //     language: 'javascript'\r\n    //   });\r\n\r\n    //   setShowEdit(true)\r\n    //   setInstance(editorInstance)\r\n    // }\r\n  }\r\n\r\n  return (\r\n    <div className='otaku-code-example-container'>\r\n        <div\r\n          className='otaku-desc'\r\n          dangerouslySetInnerHTML={{\r\n            __html: desc\r\n          }}\r\n        ></div>\r\n        <div className='otaku-example'>{example}</div>\r\n        <Tab active={currentIndex} center onChange={(data) => {\r\n          const { index } = data\r\n\r\n          if (index === 1) {\r\n            message.success('复制成功', 1000)\r\n          }\r\n        }}>\r\n          <TabPane \r\n            id={0}\r\n            name={\r\n             <Tooltip content='编辑'>\r\n              <Icon name='edit'></Icon>\r\n            </Tooltip>\r\n            }>\r\n            <Editor code={code} lang={lang}></Editor>\r\n          </TabPane>\r\n          <TabPane \r\n            id={1}\r\n            name={\r\n            <Tooltip content='复制'>\r\n              <Icon name='copy'></Icon>\r\n            </Tooltip>\r\n            }>\r\n          </TabPane>\r\n          <TabPane \r\n            id={2}\r\n            name={\r\n              <Tooltip content={collapse ? '折叠' : '展开'}>\r\n                <Icon name='code'></Icon>\r\n              </Tooltip>\r\n            }>\r\n            <HighlightCode\r\n              lang={data[0]?.lang}\r\n              code={data[0]?.code}\r\n            ></HighlightCode>\r\n          </TabPane>\r\n        </Tab>\r\n        {/* <ul className='otaku-operation'>\r\n          <li onClick={edit}>\r\n           \r\n          </li>\r\n          <li\r\n            onClick={() => {\r\n              copy(data[currentIndex].code, {\r\n                debug: true\r\n              })\r\n              alert('复制成功')\r\n            }}\r\n          >\r\n            <Tooltip content='复制'>\r\n              <Icon name='copy'></Icon>\r\n            </Tooltip>\r\n          </li>\r\n          <li\r\n            onClick={() => {\r\n              collapse = !collapse\r\n              setCollapse(collapse)\r\n            }}\r\n          >\r\n            <Tooltip content={collapse ? '折叠' : '展开'}>\r\n              <Icon name='code'></Icon>\r\n            </Tooltip>\r\n          </li>\r\n        </ul>\r\n        {collapse && (\r\n          <HighlightCode\r\n            lang={data[currentIndex].lang}\r\n            code={data[currentIndex].code}\r\n          ></HighlightCode>\r\n        )} */}\r\n\r\n        \r\n\r\n    </div>\r\n   \r\n  )\r\n}\r\n\r\n","\r\n\r\n\r\nimport * as ts  from 'typescript'\r\nimport { ErrorBoundary } from 'react-error-boundary'\r\nimport React, {useRef, useState, useEffect } from 'react'\r\nimport { createSystem, createDefaultMapFromCDN, createVirtualCompilerHost, createVirtualTypeScriptEnvironment } from '@typescript/vfs'\r\nimport lzstring from 'lz-string'\r\nimport { Sandbox } from '../sandbox/sandbox'\r\nimport { setLocaleData } from 'monaco-editor-nls'\r\n// import zh_CN from 'monaco-editor-nls/locale/zh-hans.json'\r\nimport throttle from 'lodash/throttle'\r\n\r\n// setLocaleData(zh_CN)\r\n\r\nimport './style.scss'\r\nimport * as monaco from 'monaco-editor/esm/vs/editor/editor.api'\r\n// import tsWorker from 'monaco-editor/esm/vs/language/typescript/ts.worker'\r\n// import editorWorker from 'monaco-editor/esm/vs/editor/editor.worker'\r\n\r\n// const monaco = require('monaco-editor');\r\n\r\n\r\n\r\n\r\n\r\n// self.MonacoEnvironment = {\r\n// \tgetWorkerUrl: function (moduleId, label) {\r\n//     console.log(label, moduleId)\r\n// \t\tif (label === 'typescript' || label === 'javascript') {\r\n// \t\t\treturn tsWorker\r\n// \t\t}\r\n\r\n// \t\treturn editorWorker\r\n// \t}\r\n// };\r\n\r\ninterface EditorProps {\r\n  code: string\r\n  lang: string\r\n}\r\n\r\nexport const Editor = (props: EditorProps) => {\r\n  const {\r\n    code,\r\n    lang\r\n  } = props\r\n  const divEl = useRef<HTMLDivElement>(null)\r\n  const [transformCode, setTransformCode] = useState('')\r\n  const compilerOptions = {\r\n    noEmit: false,\r\n    noEmitOnError: true,\r\n    module: ts.ModuleKind.CommonJS, \r\n    target: ts.ScriptTarget.ES5,\r\n    jsx: ts.JsxEmit.React,\r\n    declration: true,\r\n    strict: true,\r\n    noImplicitAny: true,\r\n    lib: ['esnext', 'dom'],\r\n    moduleResolution: ts.ModuleResolutionKind.NodeJs\r\n  }\r\n\r\n  let editor: monaco.editor.IStandaloneCodeEditor\r\n\r\n  const base =  {\r\n    compilerOptions: compilerOptions,\r\n    fileName: 'index.tsx',\r\n    reportDiagnostics: true\r\n  }\r\n\r\n  const initEditor = () => {\r\n    editor = monaco.editor.create(divEl.current, {\r\n      value: code,\r\n      language: 'typescript',\r\n      theme: 'vs',\r\n      wordWrap: 'on',\r\n      minimap: {\r\n        enabled: false\r\n      },\r\n    })\r\n  \r\n    monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\r\n      jsx: ts.JsxEmit.React\r\n    })\r\n\r\n    editor.onDidChangeModelContent(() => {\r\n      console.log(editor.getValue())\r\n      throttle(() => {\r\n        const data = ts.transpileModule(editor.getValue(), base)\r\n\r\n        setTransformCode(data.outputText)\r\n      }, 100)()\r\n      \r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    \r\n    const data = ts.transpileModule(code, base)\r\n\r\n    console.log(data)\r\n    setTransformCode(data.outputText)\r\n  \r\n\r\n    new ResizeObserver(() => {\r\n      editor?.layout()\r\n    }).observe(document.body)\r\n\r\n    const getTypescriptCDN = async () => {\r\n      console.log(divEl)\r\n      if (divEl.current) {\r\n        await initEditor()\r\n\r\n        const fsMap = await createDefaultMapFromCDN(compilerOptions, ts.version, true, ts, lzstring)\r\n  \r\n        fsMap.set('index.tsx', code)\r\n  \r\n        const system = createSystem(fsMap)\r\n        const host = createVirtualCompilerHost(system, compilerOptions, ts)\r\n  \r\n        const program = ts.createProgram({\r\n          rootNames: [...fsMap.keys()],\r\n          options: compilerOptions,\r\n          host: host.compilerHost\r\n        })\r\n\r\n        const env = createVirtualTypeScriptEnvironment(system, [\"index.ts\"], ts, compilerOptions)\r\n\r\n// Requests auto-completions at `path.|`\r\n      const completions = env.languageService.getCompletionsAtPosition(\"index.ts\", code.length, {})\r\n        const typeChecker = program.getTypeChecker()\r\n        console.log(env, completions)\r\n        console.log('324', typeChecker)\r\n\r\n        program.emit()\r\n      }\r\n    }\r\n\r\n    getTypescriptCDN()\r\n    \r\n    return () => {\r\n      editor?.dispose()\r\n    }\r\n  }, [])\r\n\r\n\r\n  return  (\r\n    <div className='editor-container'>\r\n      {/* <div className='editor-demo'>\r\n        <ErrorBoundary \r\n          onReset={(...args) => {\r\n              console.log(123, args)\r\n              return <div></div>\r\n          }}\r\n          fallback={<div>异常</div>} \r\n          resetKeys={[transformCode]}>\r\n          <Sandbox code={transformCode}></Sandbox>\r\n        </ErrorBoundary>\r\n      </div> */}\r\n      <div className='editor' ref={divEl}></div>\r\n    </div>\r\n  ) \r\n}\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/typescript/lib sync recursive\";\nmodule.exports = webpackEmptyContext;","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"names":["React","Tab","TabPane","HighlightCode","Table","json5","Api","props","code","data","evalData","parse","console","log","tableColumn","label","prop","render","row","span","require","defaultValue","aside","className","active","name","id","lang","map","item","index","section","key","h2","div","children","useState","useRef","Icon","message","Editor","Tooltip","CodeExample","style","desc","example","container","showEdit","setShowEdit","collapse","setCollapse","undefined","currentIndex","setCurrentIndex","edit","dangerouslySetInnerHTML","__html","center","onChange","success","content","ts","useEffect","createSystem","createDefaultMapFromCDN","createVirtualCompilerHost","createVirtualTypeScriptEnvironment","lzstring","throttle","monaco","divEl","transformCode","setTransformCode","compilerOptions","noEmit","noEmitOnError","module","ModuleKind","CommonJS","target","ScriptTarget","ES5","jsx","JsxEmit","declration","strict","noImplicitAny","lib","moduleResolution","ModuleResolutionKind","NodeJs","editor","base","fileName","reportDiagnostics","initEditor","create","current","value","language","theme","wordWrap","minimap","enabled","languages","typescript","typescriptDefaults","setCompilerOptions","onDidChangeModelContent","getValue","transpileModule","outputText","ResizeObserver","layout","observe","document","body","getTypescriptCDN","fsMap","system","host","program","env","completions","typeChecker","version","set","createProgram","rootNames","keys","options","compilerHost","languageService","getCompletionsAtPosition","length","getTypeChecker","emit","dispose","ref"],"sourceRoot":""}